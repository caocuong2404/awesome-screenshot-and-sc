(()=>{var e={807:()=>{var e,t=[{name:"trello",reg:"trello.com",container:".js-desc,.js-comment",observeContainer:[".window-overlay"]},{name:"github",reg:"github.com",container:".js-comment-body",observeContainer:["#discussion_bucket"]},{name:"asana",reg:"app.asana.com",container:".TruncatedRichText-richText,#TaskDescription-textEditor",observeContainer:[".SpreadsheetPageStructure-detailsOverlay"]},{name:"jira",reg:"atlassian.net",container:".ak-renderer-document",observeContainer:[".atlaskit-portal-container","div[data-testid='Content']"]},{name:"slack",reg:"app.slack.com",container:".p-rich_text_section,.c-message_attachment__title",observeContainer:[".p-workspace__primary_view"]},{name:"gmail",reg:"mail.google.com",container:"div[role=listitem]",observeContainer:["#\\:1"]}];(e=["expand-link","expand-link-slack","expand-link-trello","expand-link-asana","expand-link-github","expand-link-jira","expand-link-gmail"],new Promise((function(t,n){chrome.runtime.sendMessage({action:"getLocalStorage",what:e},(function(e){t(e)}))}))).then((function(e){if(e["expand-link"]){var n=function(e){for(var n=0;n<t.length;n++)if(new RegExp(t[n].reg).test(e))return t[n];return!1}(window.location.href);if(n&&e["expand-link-"+n.name]){var o=new MutationObserver((function(e){e.forEach((function(e){"childList"!==e.type&&"subtree"!==e.type||$(n.container).find("a").each((function(e,t){if(a=t.href,r=decodeURIComponent(a),/https:\/\/www.awesomescreenshot.com\/video\/(.*)/.test(r)){var o=function(e){e=decodeURIComponent(e),/slack-redir.net/.test(e)&&(e=e.match(/\?url=(.*)$/)[1]);var t=new URL(e),n=t.searchParams.get("key"),o=t.pathname.substr(7);return!(!o||!n)&&{id:o,shareKey:n}}(t.href);if(o&&!$(t).hasClass("aws-expanded")){var i=$(function(e,t){var n="80%";"slack"===t&&(n="40%","25%");"gmail"===t&&(n="50%","30%");return'<div style="width:'+n+';position:relative;max-width:500px; min-width: 400px;"><iframe style="display:inline;position: absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="https://www.awesomescreenshot.com/embed?id='+e.id+"&shareKey="+e.shareKey+'"></iframe></div>'}(o,n.name));i.insertBefore($(t)),i.css({height:.7*i.width()}),$(t).addClass("aws-expanded"),$(t).hasClass("c-message_attachment__title_link")&&($(t).parents(".c-message_attachment__body").find(".c-message_attachment__row--has_trigger").remove(),$(t).parents(".c-message_attachment__body").find("a[data-qa=attachment_image]").parents(".c-message_attachment__row").remove(),$(t).remove())}}var a,r}))}))}));n.observeContainer.forEach((function(e){var t,n=((t=e)?document.querySelector(t):null)||document;o.observe(n,{childList:!0,subtree:!0})}))}}}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";function e(e,t){chrome.runtime.sendMessage(e,t)}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function o(e){document.getElementById(e)&&document.getElementById(e).remove()}function i(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&function(e,n){if(t(e,n)){var o=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(o," ")}}(n,"_50ti");break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&i[0].style.setProperty("position","absolute","important"),null!=o&&o.style.setProperty("position","absolute","important")}}function a(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&(t(a=n,r="_50ti")||(a.className+=" "+r));break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&(i[0].style.position=""),null!=o&&(o.style.position="")}var a,r}function r(){if(o("aws-entire-capture"),s.entireCaptureStyleChange.length>0)for(var e=s.entireCaptureStyleChange.length-1;e>=0;e--)s.entireCaptureStyleChange[e].undo();s.clear(),$("#aws-record-div").remove()}var s={entireCaptureStyleChange:[],add:function(e,t){null!=e&&this.entireCaptureStyleChange.push(new l(e,t))},checkAdd:function(e){var t=!1;for(var n in s.entireCaptureStyleChange)if(n.data&&n.data.element==e){t=!0;break}return t},clear:function(){this.entireCaptureStyleChange=[]}};function l(e,t){this.type=e,this.data=t,this.exec()}function d(e,t,n){var o="";switch(t){case"success":o='<div class="success-message" style="box-sizing:content-box;padding: 10px 30px;height: 36px;text-align: center;background-color:rgba(0,0,0,.9);;color: white;position: fixed;left: 50%;top: 20px;transform:translateX(-50%);line-height: 36px;font-size:16px;font-weight:bold;border-radius: 4px;z-index: 9999;box-shadow: 0 3px 6px -4px rgba(0,0,0,.12),0 6px 16px 0 rgba(0,0,0,.08),0 9px 28px 8px rgba(0,0,0,.05);">\n    <span class="mes-text">'+e+"</span></div>";break;case"error":o='<div class="error-message" style="padding:0 20px;height: 40px;text-align: center;background-color: #FF7474;color: #FFFFFF;position: fixed;left: calc(50% - 184px);top: 80px;font-size:16px;line-height: 40px;border-radius: 8px;;z-index: 9999">\n    <span class="mes-text">'+e+"</span></div>"}$("body").append(o),setTimeout((function(){$("."+t+"-message").remove()}),n)}function c(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function p(e){var t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then((function(){d(chrome.i18n.getMessage("capture_btn_copy_tip"),"success",600)}),(function(e){d("Copied failed!","error",600)}))}function u(e){var t;navigator.clipboard&&e?"image/jpeg"===e.type?(t=e,new Promise((function(e,n){var o=window.URL.createObjectURL(t),i=document.createElement("img"),a=document.createElement("canvas"),r=a.getContext("2d");i.onload=function(){a.width=i.width,a.height=i.height,r.drawImage(i,0,0),a.toBlob((function(t){e(t)}))},i.src=o}))).then((function(e){p(e)})):p(e):navigator.clipboard?d("Copied failed!","error",600):alert("The current page doesn't support copying to the clipboard.")}function m(){return!!document.getElementById("webkit-xml-viewer-source-xml")&&(alert("Extension cannot run on this page because it contains XML files."),!0)}function g(e){return e.replace(/\$i18n\{([^}]+)}/g,(function(e,t){return chrome.i18n.getMessage(t)}))}function b(e){return!!e&&new Set(["iframe","frame"]).has(e.tagName.toLowerCase)}function f(e,t){for(var n="boolean"==typeof t?t:b(e),o=e.getBoundingClientRect(),i=o.width,a=o.height,r=0,s=0,l=e;l;){r+=isNaN(l.offsetLeft)?0:l.offsetLeft,l===document.body?s+=l.getBoundingClientRect().top+window.scrollY:s+=isNaN(l.offsetTop)?0:l.offsetTop;var d=_(l);d&&(r+=d.m41,s+=d.m42),l=l.offsetParent}var c,p,h={left:r,top:s,width:i,height:a};if(n){var u=(c=e,{left:y(p=window.getComputedStyle(c),["borderLeftWidth","paddingLeft"]),right:y(p,["borderRightWidth","paddingRight"]),top:y(p,["paddingTop","borderTopWidth"]),bottom:y(p,["paddingBottom","borderBottomWidth"])});h.box=u,h.left+=u.left,h.top+=u.top,h.width-=u.left+u.right,h.height-=u.top+u.bottom}return h}l.prototype={constructor:l,exec:function(){try{"changeCssText"===this.type?(this.cssTextBefore=this.data.element.style.cssText,this.data.element.style.cssText=this.cssTextBefore+";"+function(e){var t="";for(var n in e)t+=n.replace(/([a-zA-Z](?=[A-Z]))/g,"$1-").toLowerCase()+":"+e[n]+" !important;";return t}(this.data.cssObj)):"addStyle"===this.type?(e=this.data.id,t=this.data.css,n=document.head,(o=document.createElement("style")).setAttribute("type","text/css"),o.setAttribute("id",e),o.appendChild(document.createTextNode(t)),n.appendChild(o)):"changeAttr"===this.type&&(this.attrValueBefore=this.data.element[this.data.attrName],this.data.element[this.data.attrName]=this.data.attrValue)}catch(e){}var e,t,n,o},undo:function(){try{"changeCssText"===this.type?this.data.element.style.cssText=this.cssTextBefore:"addStyle"===this.type?o(this.data.id):"changeAttr"===this.type&&(this.data.element[this.data.attrName]=this.attrValueBefore)}catch(e){}}};var w,v=(w=0,{next:function(){return"__STICKY_ID_"+ ++w+"_"+(new Date).getTime()}});function x(){var e=document.querySelectorAll("video"),t=!1;return e.forEach((function(e){(function(e){var t=window.innerWidth,n=window.innerHeight;if(e){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(3*i>t&&3*a>n)return!0}return!1})(e)&&(t=!0)})),t}function _(e){if(window.DOMMatrix||window.WebKitCSSMatrix){var t=(e=window.getComputedStyle(e)).transform||e.webkitTransform;return window.DOMMatrix?new window.DOMMatrix(t):new window.WebKitCSSMatrix(t)}}function y(e,t){return t.reduce((function(t,n){return t+function(e){var t=parseFloat(e);return isNaN(t)?0:t}(e[n])}),0)}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var C,S,E=new Set(["absolute","fixed","relative","sticky"]),H=18,M={captureStyleChanges:[],fixedElements:[],bottomAbsElts:[],isFirstPage:!1,init:function(){this.add(document.documentElement,{scrollBehavior:"auto"});var e=document.body;e&&"scroll"===window.getComputedStyle(e).overflowY&&this.add(e,{overflowY:"visible"}),this._initHangAbsolutes(),this._initFixedPseudos(),this.hideScrollbars(),this.parallaxHacks(),this.disableTransitions(),this.hacks()},_add:function(e,t,n){if(e&&e.style){var o=e.style.cssText;this._applyStyles(e,t),n.push({type:"changeCssText",elt:e,cssTextBefore:o,cssTextAfter:e.style.cssText})}},add:function(e,t){return this._add(e,t,this.captureStyleChanges)},addFixed:function(e,t){return this._add(e,t,this.fixedElements)},addBottomAbs:function(e,t){return this._add(e,t,this.bottomAbsElts)},_pop:function(e){var t=e.pop();if(t)switch(t.type){case"addStyle":t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);break;case"changeCssText":t.elt.style.cssText=t.cssTextBefore}},handleScrollNode:function(e){e&&this.add(e,{scrollBehavior:"auto"})},popAll:function(){for(;this.captureStyleChanges.length>0;)this._pop(this.captureStyleChanges)},popAllFixed:function(){for(;this.fixedElements.length>0;)this._pop(this.fixedElements)},popAllAbs:function(){for(;this.bottomAbsElts.length>0;)this._pop(this.bottomAbsElts)},dealBottomAbsoltesInner:function(e,t){var n=document.body;if(n&&!/osmz.ru/.test(window.location.host))for(var o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),i=o.nextNode();null!==i;){var a=window.getComputedStyle(i);if("absolute"===a.position){var r=f(i),s=i.nodeName.toLocaleLowerCase();if(("iframe"===s||"img"===s)&&parseInt(a.width)<=5&&parseInt(a.height)<5);else if(r.width>0&&r.height>0&&r.height+r.top>=window.innerHeight-80&&parseInt(r.height)+parseInt(r.top)<=window.innerHeight&&r.height<200&&r.top<window.innerHeight){var l=i.parentNode,d=window.getComputedStyle(l),c=!0;if((r.left+r.width-2<t.x/window.devicePixelRatio||r.left+r.width>(t.x+t.width)/window.devicePixelRatio)&&(c=!1),(parseInt(d.height)===r.height||parseInt(d.height)-r.height<=100)&&!(parseInt(d.height)<1&&/www.facebook.com/.test(window.location.host))&&("absolute"===d.position||"relative"===d.position)||e&&"fixed"===d.position&&parseInt(d.height)===window.innerHeight||!c){i=o.nextNode();continue}!0,this.addBottomAbs(i,{visibility:"hidden",opacity:"0",overflow:"hidden"})}i=o.nextNode()}else i=o.nextNode()}},_initHangAbsolutes:function(){var e=this,t=document.body;if(t&&!/osmz.ru/.test(window.location.host)){var n=window.getComputedStyle(t);if(!E.has(n.position)){for(var o=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),a=i.nextNode();null!==a&&a;){var r=window.getComputedStyle(a),s=r.position;if("absolute"===s){var l=a.nodeName.toLocaleLowerCase();("iframe"===l||"img"===l)&&parseInt(r.width)<=5&&parseInt(r.height)<5||0===parseInt(r.top)||parseInt(r.top)>window.innerHeight||o.push({ele:a,style:r}),a=i.nextNode()}else E.has(s)?(a=i.nextSibling())||(a=P(i)):a=i.nextNode()}var d=t.getBoundingClientRect(),c=d.left+window.scrollX,p=d.top+window.scrollY;o.forEach((function(t){var o=t.ele,i=t.style,a=i.width,r=i.height,s=isNaN(parseFloat(i.left))?0:parseFloat(i.left),l=isNaN(parseFloat(i.right))?0:parseFloat(i.right),d=isNaN(parseFloat(i.top))?0:parseFloat(i.top)+(isNaN(parseFloat(n.marginTop))?0:parseFloat(n.marginTop)),h=s;s<0&&s===l&&Math.abs(parseInt(s))>parseInt(window.innerWidth/2)&&(h=0);var u={width:a,height:r,left:h-c+"px",top:d-p+"px",right:"auto",bottom:"auto"};e.add(o,u)}))}}},initFixed:function(){var e=document.body&&window.getComputedStyle(document.body);if(e&&"absolute"!==e.position&&"fixed"!==e.position){var t={position:"relative"};if("inline"===e.display&&(t.display="block"),0===parseInt(e.width)||0===parseInt(e.height))return void(/nullschool.net/.test(window.location.host)||/peardeck.com/.test(window.location.host)||this.add(document.body,{backgroundColor:"transparent",backgroundImage:"none"}));var n=!1;/venca.es/.test(window.location.host)&&(n=!0);var o=!1;if("none"===e.maxWidth&&0===parseInt(e.minWidth)&&0===parseInt(e.marginLeft)&&(!n&&(t.minWidth="100vw"),o=this.isBoxSizingRisky(e)),"none"===e.maxHeight&&0===parseInt(e.minHeight)&&(t.minHeight="100vh",o=o||this.isBoxSizingRisky(e,!0)),"0px"!==e.marginTop){var i=parseInt(e.paddingTop)+parseInt(e.marginTop);t.paddingTop=i+"px",t.marginTop="0px",o=!0}if("0px"!==e.marginBottom){var a=parseInt(e.paddingBottom)+parseInt(e.marginBottom);t.paddingBottom=a+"px",t.marginBottom="0px",o=!0}o&&(t.boxSizing="border-box"),this.add(document.body,t)}},_initFixedPseudos:function(){var e=this;if(document.body&&!/ulikecam.com/.test(window.location.host))for(var t=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT),n=t.nextNode();null!==n&&n;){window.getComputedStyle(n).position;var o=n.getBoundingClientRect();if(o.width>.75*window.innerWidth&&o.height>.75*window.innerHeight){var i=!1;o.width>=window.innerWidth-H&&o.height>=window.innerHeight-H||["::before","::after"].forEach((function(t){if("fixed"===window.getComputedStyle(n,t).position){i=!0,n.id||(n.id=v.next());var o="#"+window.CSS.escape(n.id)+t+" { position: absolute; }";e.addStyleSheet(o)}})),i?(n=t.nextSibling())||(n=P(t)):n=t.nextNode()}else n=t.nextNode()}},_getFixedStickyEles:function(e){var t={fixed:[],sticky:[],fixedBg:[],fixedHeader:[],fixedBottom:[]},n=!1;/awesomescreenshot.com/.test(window.location.host)&&(n=!0);var o=n?document.body:e||document.body;if(!o)return t;for(var i,a=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT,null,!1);i=a.nextNode();)if(i!==o){var r=window.getComputedStyle(i),s=r.position;if("sticky"===s)t.sticky.push(i);else if("fixed"===s){var l=f(i),d=window.innerHeight-l.top-20;if(l.top+l.height<=0&&l.height>0||l.left+l.width<=0&&l.width>0||l.top>window.innerHeight&&l.height>0||l.left>=window.innerWidth-H&&l.width>0)continue;if(l.top<20&&l.height<d&&l.top>=0&&i.offsetHeight<2*window.innerHeight/3)t.fixedHeader.push(i);else if(l.height>0&&l.height<350&&l.top+l.height>=window.innerHeight-20&&"hidden"!==r.visibility)t.fixedBottom.push(i);else{if(l.height>=window.innerHeight&&l.width>=2*window.innerWidth/3&&(l.width!==window.innerWidth||i.scrollHeight>window.innerHeight))continue;t.fixed.push(i)}}"fixed"===r.backgroundAttachment&&t.fixedBg.push(i)}return t},checkFixedSideElem:function(e,t,n){return!(t+Math.min(e,n)>window.innerWidth/2)},updateFixed:function(e,t,n,o,i){var a=this,r=this._getFixedStickyEles(e),s=r.fixed,l=r.sticky,d=r.fixedBg,c=r.fixedHeader,p=r.fixedBottom;t||c.forEach((function(e){a.isFirstPage||a.addFixed(e,{visibility:"hidden",overflow:"hidden",opacity:0})})),p.forEach((function(e){i?a.addFixed(e,{visibility:"visible"}):a.addFixed(e,{visibility:"hidden",overflow:"hidden",opacity:0})})),s.forEach((function(e){if("fixed"===e.dataset.position&&e.classList.contains("siteBackgroundcurrent"));else{var t=window.getComputedStyle(e),i=parseFloat(t.left),r=parseFloat(t.right),s=parseFloat(t.top),l=parseFloat(t.bottom),d=parseFloat(t.width),c=parseInt(t.height),p=e.scrollHeight,h=t.overflowY,u=e.computedStyleMap(),m={};if("hidden"!==t.visibility&&(c<=window.innerHeight||a.checkFixedSideElem(i,d,r))){f(e);["left","right","top","bottom","width","height"].forEach((function(e){m[e]=u&&"auto"!==u.get(e).value})),a.addFixed(e,{position:"absolute",transition:"none"});var g=e.offsetParent;if(g){var b=f(g),w=i-b.left,v=r-(o-(b.left+b.width)),x=s-b.top,_=l-(n-(b.top+b.height)),y=!1,k={};if(!isNaN(w)&&(w<=0||w<i)?(y=!0,m.left||m.right?(m.left&&(k.left=w+"px"),m.right&&(k.right=v+"px")):0==w&&0==v?i<r?k.left=i+"px":k.right=r+"px":k.left=w+"px"):m.right&&!isNaN(v)&&(y=!0,k.right=v+"px"),!isNaN(x)&&(x<=0||x<s)){y=!0;var C=c;"scroll"!==h&&"auto"!==h||(C=Math.max(C,p)),k.height=C+"px",m.top||m.bottom?(m.top&&m.bottom&&delete k.height,m.top&&(k.top=x+"px"),m.bottom&&(k.bottom=_+"px")):0===l&&0!==e.offsetParent.getBoundingClientRect().height?k.bottom="0px":(k.top=x+"px",k.bottom="auto")}else m.bottom&&!isNaN(_)&&(y=!0,0==l&&0!==e.offsetParent.getBoundingClientRect().height?k.bottom="0px":k.bottom=_+"px");(k.left?k.right:!k.right)&&d===e.getBoundingClientRect().width||!m.width||(k.width=d+"px"),y&&(k.width&&(k.maxWidth=k.width),k.height&&(k.maxHeight=k.height),a.addFixed(e,k))}}}}));l.forEach((function(e){var n=e.computedStyleMap(),o={};["left","right"].forEach((function(e){o[e]=n&&"auto"!==n.get(e).value}));var i={position:"relative"};o.top||(i.top="auto"),o.left&&!/www.linkedin.com/.test(window.location.host)||(i.left="auto"),o.right||(i.right="auto"),o.bottom||(i.bottom="auto"),!t&&a.add(e,i)})),d.forEach((function(e){var t,n=window.getComputedStyle(e),o={backgroundAttachment:"scroll"};if(n.backgroundRepeat,"cover"===n.backgroundSize){var i=f(e);i.top<0&&(o.backgroundPositionY=-i.top+"px"),i.height<window.innerHeight&&(o.backgroundSize=window.innerWidth+"px");var r=n.backgroundImage.match(/^url\(["']?(.+)["']\)$/);if(r){var s=r[1];(t=s,new Promise((function(e,n){var o=new Image;o.onerror=function(e){return n(e)},o.onload=function(n){return e({img:o,src:t,width:o.width,height:o.height})},o.src=t}))).then((function(t){var n,o,i=t.width,r=t.height,s=window.innerHeight,l=window.innerWidth,d=l*r/i;r>s||(d>=s?(n=l,o=d):(n=s*i/r,o=s),a.add(e,{backgroundSize:n+"px "+o+"px"}))})).catch((function(){}))}}a.add(e,o)}))},_hasOverflowHiddenParent:function(e){var t=e.parentNode;return!(!t||t===document.documentElement||t===document.body||"hidden"!==window.getComputedStyle(t).overflow)},hacks:function(){this._quoraHack(),this._adwordsStickyClassHack(),this._squarespaceHack(),this._notionHack(),this._hackFade()},_squarespaceHack:function(){this.addStyleSheet(".sqs-layout .sqs-row .sqs-block-content figure { opacity: 1 !important; }")},_quoraHack:function(){var e=window.location.host;("quora.com"===e||e.endsWith("quora.com"))&&this.addStyleSheet(".Answer.ActionBar.sticky { position: static !important }")},_adwordsStickyClassHack:function(){this.addStyleSheet('[stickyclass="sticky"], ess-particle-table [role="row"], [acxscrollhost] .header-sticky-container  { transform: translate(0px, 0px) !important }')},_notionHack:function(){document.querySelector(".notion-scroller")&&this.addStyleSheet(".notion-scroller > .notion-table-view > .notion-selectable > div { transform: none !important; }")},_hackFade:function(){document.querySelector(".fade")&&this.addStyleSheet("div.fade{transform: none !important;opacity:1 !important;}")},hideScrollbars:function(){(this.isMobile()||this._isImage())&&this.add(document.documentElement,{overflow:"hidden"}),this._hideScrollbars(["html","body"]),this._hideScrollbarThum(["html","body"]),!/ulikecam.com/.test(window.location.host)&&!/iste.org/.test(window.location.host)&&!/rakuten-wallet.co.jp/.test(window.location.host)&&"dispatchEvent"in window&&window},hideScrollbarsInner:function(e){if(e.id||(e.id=v.next()),this._twitchHideScrollbars(e));else{var t="#"+window.CSS.escape(e.id);this._gmailHideScrollbars(t),this._hideScrollbars([t]);var n=["overflow","overflowY","overflowX"],o={};n.forEach((function(t){return o[t]=e.style[t]})),e.style.overflow="hidden",e.offsetWidth,n.forEach((function(t){return e.style[t]=o[t]}))}},_twitchHideScrollbars:function(e){if(e.classList&&e.classList.contains("simplebar-scroll-content")){var t=Array.from(e.parentNode.childNodes).find((function(e){return e.nodeType===e.ELEMENT_NODE&&e.classList&&e.classList.contains("simplebar-track")&&e.classList.contains("vertical")}));return this.add(t,{opacity:0}),!0}return!1},_gmailHideScrollbars:function(e){var t=["::-webkit-scrollbar-button { width: 0 !important; height: 0 !important; display: none !important; }","::-webkit-scrollbar-corner { background-color: transparent !important; border: 0 !important }","::-webkit-scrollbar-thumb { background-color: transparent !important; box-shadow: none !important }"].map((function(t){return""+e+t})).join("\n");this.addStyleSheet(t)},isMobile:function(){return this._isTouch()},_isTouch:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},_isImage:function(){var e=document.contentType;return e&&e.startsWith("image/")},_hideScrollbars:function(e){var t=e.map((function(e){return e+"::-webkit-scrollbar"})).join(", ")+"{ width: 0 !important; height: 0 !important }";this.addStyleSheet(t)},_hideScrollbarThum:function(e){var t=["::-webkit-scrollbar-button { width: 0 !important; height: 0 !important; }","::-webkit-scrollbar-corner { background-color: transparent !important; border: 0 !important }","::-webkit-scrollbar-thumb { background-color: transparent !important; box-shadow: none !important }"].map((function(e){return""+e})).join("\n");this.addStyleSheet(t)},disableTransitions:function(){if(/shop.hrc.org/.test(window.location.host)||this.addStyleSheet("* {\n          transition: none !important;\n          transition-delay: 0s !important;\n          animation-duration: 0s !important;\n          animation-delay: 0s !important;\n        }"),document.querySelector("body > .Parallax-host-outer .Parallax-host")){var e="\n          .Parallax-item, .Parallax-item figure {\n            position: absolute !important;\n            transform: translate3d(0px, 0px, 0px) !important;\n          }";this.addStyleSheet(e)}var t="body.parallax-scrolling #parallax-images .image-container";document.querySelector(t)&&(e=t+", "+t+" img {\n              transform: translate3d(0px, 0px, 0px) !important;\n            }\n        ",this.addStyleSheet(e))},parallaxHacks:function(){if(['div[data-effect="BackgroundParallax"] > .bgImage','div[data-effect="BackgroundParallaxZoom"] > .bgImage'].some((function(e){return document.querySelector(e)}))){var e='\ndiv[data-effect="BackgroundParallax"] {\n  position: absolute !important;\n  left: auto !important;\n  top: auto !important;\n}\ndiv[data-effect="BackgroundParallaxZoom"] {\n  position: absolute !important;\n}\n.bgImage[data-type="image"] {\n  transform: translate3d(0, 0, 0) !important;\n}\n        ';this.addStyleSheet(e)}document.querySelector(".enable-load-effects .Parallax-host .Parallax-item figure")&&(e=".enable-load-effects .Parallax-host .Parallax-item figure { opacity: 1 !important; transition: all 0 ease-in-out; }",this.addStyleSheet(e))},addStyleSheet:function(e){var t=document.createElement("style");t.innerHTML=e;var n=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];n&&(n.appendChild(t),this.captureStyleChanges.push({elt:t,type:"addStyle"}))},_applyStyles:function(e,t){if(e){var n=e.style.cssText+"; ";for(var o in t)n+=this._camelToDash(o)+": "+t[o]+" !important; ";e.style.cssText=n}},_camelToDash:function(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()},isBoxSizingRisky:function(e,t){var n=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"];!0!==t&&n.push("paddingRight","paddingLeft","borderRightWidth","borderRightWidth");var o=n.some((function(t){return e[t]&&"0px"!==e[t]}));return"content-box"===e.boxSizing&&o}};function T(e,t,n){this.origBodyZeroHieght=e,this.origWindowScrollx=t,this.origWindowScrolly=n,this.scrollPart=null,this.scrollNode=null,this.scrollClientHeight=0,this.regions=[],this.bgRegions=[],this.positions=[],this.bottomPostion=null,this.topCapturePostion=null,this.contentClip=null,this.numPositions=0,this.docs=document.documentElement,this.body=document.body,this.dimensions=this.getDimensions()}function z(e){return{x:e.x*window.devicePixelRatio,y:e.y*window.devicePixelRatio,width:e.width*window.devicePixelRatio,height:e.height*window.devicePixelRatio}}function P(e){if(e){e.parentNode();var t=e.nextSibling();return t||e.currentNode===document.body?t:P(e)}return null}function R(e){return Math.max.apply(null,e.filter((function(e){return"number"==typeof e})))}function W(e,t){if(e===t)return!0;var n=k(e);return null!=e&&null!=t&&n===k(t)&&("object"!==n||0===Object.keys(t).filter((function(n){return!0!==W(e[n],t[n])})).length)}T.prototype.parpareDeal=function(){this.scrollPart||this.getScrollPart(),this._setRegions(),this._setPositions()},T.prototype.getScrollNode=function(){var e=this;if(this.scrollNode)return this.scrollNode;if("empty"===this.scrollPart.type||"frame"===this.scrollPart.type){var t=null,n=0,o=0,i=null;if(this.positions.forEach((function(e){e.capture.height>=n&&(n=e.capture.height,t=e.elt,o=e.clip.height,i=e.clip)})),t){var a=200;(/7mkr.com/.test(window.location.host)||/Mobi/.test(navigator.userAgent)||o<=a)&&(a=0),this.scrollNode=t!==window?t:document.scrollingElement?document.scrollingElement:window,this.scrollClientHeight=o-a,this.topCapturePostion=z(i),i.y+=a,i.height-=a,this.contentClip=z(i)}else this.scrollNode=document.scrollingElement?document.scrollingElement:window,this.scrollClientHeight=document.scrollingElement?document.scrollingElement.clientHeight:window.innerHeight,this.contentClip={x:0,y:0*window.devicePixelRatio,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio},this.topCapturePostion={x:0,y:0,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio};return this.scrollNode}if("elt"===this.scrollPart.type){a=100;return/Mobi/.test(navigator.userAgent)&&(a=20),this.scrollNode=this.scrollPart.elt,this.scrollClientHeight=this.scrollPart.height-a,this.positions.forEach((function(t){t.isMain&&t.clip.y>0&&t.clip.height<window.innerHeight?e.bottomPostion=z(t.clip):t.isMain&&0===t.clip.x&&0===t.clip.y?e.topCapturePostion=z(t.clip):t.isMain||(t.clip.y+=a,t.clip.height-=a,e.contentClip=z(t.clip))})),this.scrollNode}},T.prototype._setRegions=function(){var e=[],t=[],n=this.scrollPart,o=this.dimensions,i=o.fullWidth,a=o.fullHeight,r=window,s=o.bodyMaxHeight,l=o.docEltMaxHeight;if(s-20>l&&l<=window.innerHeight&&(r=this.body),"empty"!==n.type&&n.ready){var d=n.bottom<a,c=n.right<i,p=null,h=null;if("elt"===n.type?h={type:"inner_elt",page:{elt:n.elt,eltHeight:n.height,eltWidth:n.width,eltOffsetLeft:n.left,eltOffsetTop:n.top,top:0,left:0,right:n.width,bottom:n.scrollHeight},capture:{x:n.left,y:n.top,width:n.width,height:n.scrollHeight}}:"frame"===n.type&&(h={type:"inner_frame",page:{eltHeight:n.height,eltWidth:n.width,eltOffsetLeft:n.left,eltOffsetTop:n.top,top:0,left:0,right:n.scrollWidth,bottom:n.scrollHeight},capture:{x:n.left,y:n.top,width:n.scrollWidth,height:n.scrollHeight}}),d&&c&&e.push({type:"main",page:{elt:r,top:n.bottom,left:n.right,right:i,bottom:a},capture:{delay:0,x:n.right,y:n.bottom+(n.scrollHeight-n.height),width:i-n.right,height:a-n.bottom}}),d){p={type:"main",page:{elt:r,top:n.bottom,left:0,right:n.right,bottom:a},capture:{delay:0,x:0,y:n.bottom+(n.scrollHeight-n.height),width:n.right,height:a-n.bottom}},e.push(p);var u=p.capture.height,m=p.capture.y;t.push({type:"fill",fill:{x:p.capture.x+p.capture.width,y:m,width:h.capture.width-n.width,height:u},sample:{x:h.capture.x,y:m,height:u,width:n.width}})}if(c){p={type:"main",page:{elt:r,top:0,left:n.right,right:i,bottom:n.bottom},capture:{delay:0,x:n.right,y:0,width:i-n.right,height:n.bottom}},e.push(p);var g=p.capture.width,b=p.capture.x,f=p.capture.y+p.capture.height;t.push({type:"fill",fill:{x:b,y:f,width:g,height:h.capture.y+h.capture.height-f},sample:{x:b,y:h.capture.y,width:g,height:p.page.bottom-h.capture.y}})}p={type:"main",page:{elt:r,top:0,left:0,right:n.right,bottom:n.bottom},capture:{delay:0,x:0,y:0,width:n.right,height:n.bottom}},e.push(p);var w=p.capture.y+p.capture.height,v=h.capture.x;t.push({type:"fill",fill:{x:0,y:w,width:v,height:h.capture.y+h.capture.height-w},sample:{x:0,y:h.capture.y,width:v,height:p.page.bottom-h.capture.y}}),w=0,e.push(h),this.dimensions.fullWidth+=Math.max(0,h.page.right-h.page.eltWidth),this.dimensions.fullHeight+=Math.max(0,h.page.bottom-h.page.eltHeight)}else e.push({type:"main",page:{elt:r,top:0,left:0,right:i,bottom:a},capture:{x:0,y:0,width:i,height:a}});this.regions=e,this.bgRegions=t,function(e){var t={type:"",page:{top:1,left:1,right:1,bottom:1},capture:{x:1,y:1,width:1,height:1}},n={eltHeight:1,eltWidth:1,eltOffsetTop:1,eltOffsetLeft:1};if(0!==e.filter((function(e,o){var i=!1;return W(e,t)||(i=!0),"inner_elt"!==e.type&&"inner_frame"!==e.type||W(e.page,n)||(i=!0),i})).length)throw new Error("Bad regions setup!")}(e),function(e){var t={x:1,y:1,width:1,height:1};if(0!==e.filter((function(e){["sample","fill"].filter((function(n){return!e[n]||!W(e[n],t)&&!0})).length})).length)throw new Error("Bad bgRegions setup!")}(t)},T.prototype._setPositions=function(){var e=this.dimensions,t=e.windowWidth,n=e.windowHeight,o=(e.fullWidth,[]);this.regions.forEach((function(e){if("inner_frame"!==e.type){var i=e.page,a={x:i.left,y:i.top,width:Math.min(t,i.right-i.left),height:Math.min(n,i.bottom-i.top)};if("main"!==e.type&&(a.x+=e.page.eltOffsetLeft||0,a.y+=e.page.eltOffsetTop||0,a.width=e.page.eltWidth||a.width,a.height=e.page.eltHeight||a.height),0!==a.width&&0!==a.height){var r=Object.assign({},a),s=Object.assign({},e.capture);if(r.height-0>0&&s.height-0>0){r.y+=0,r.height-=0,s.y+=0,s.height-=0;"inner_elt"===e.type&&e.page.eltHeight,"inner_elt"===e.type&&e.page.eltWidth;var l={isMain:"main"===e.type,isFrame:!1,isTopOfElt:!1,elt:e.page.elt,scrollX:0,clip:a,capture:e.capture};o.push(l)}}}else h.push({isFrame:!0})})),this.positions=o,this.numPositions=o.length,o.forEach((function(e,t){e.index=t}))},T.prototype.getScrollPart=function(){var e=this.dimensions;if(this.scrollPart)return this.scrollPart;var t=function(e,t,n,o,i){var a={type:"empty"},r=0;if(document.body){var s=window.getComputedStyle(document.body);r=parseInt(s.getPropertyValue("margin-top"))}if(o>t+H+Math.abs(r)||!(i=i||document.body))return a;if(!b(i)){var l=function(e){for(var t=window.innerWidth,n=window.innerHeight,o=0,i=e,a=null,r=null,s=!!/sendgrid.com/.test(window.location.host),l=document.createTreeWalker(e||document.body,NodeFilter.SHOW_ELEMENT),d=l.nextNode();null!=d;){var c=d.offsetHeight,p=d.scrollHeight,h=!1,u=d.nodeName.toLocaleLowerCase();if(p>c+5&&c>50&&(p>o||r&&r.width*r.height<d.offsetHeight*d.offsetWidth&&p>r.height)&&d.offsetWidth>60&&"iframe"!==u&&"script"!==u){var m=f(d);if(0==m.left&&m.width/window.innerWidth<.3);else{var g=window.getComputedStyle(d),b=g.overflowY,w=["ps-active-y","ps--active-y"],v=["ps","ps-container"].some((function(e){return d.classList.contains(e)}))&&w.some((function(e){return d.classList.contains(e)}));"none"!==g.pointerEvents&&("hidden"!==b&&"visible"!==b||v)&&m.left+H>=0&&m.left+m.width<t+H+200&&m.top+H>=0&&(m.top+m.height<n+H||p>n+H+100)&&(h=!0,a=g,o=p,i=d,r=m)}}h&&!s?(d=l.nextSibling())||(d=P(l)):d=l.nextNode()}var x=(r=r||f(i)).height,_=r.width,y=i.scrollWidth,k=i.scrollHeight;if("hidden"==(a&&a.overflowX)){v=parseFloat(a.paddingLeft)||0;var C=parseFloat(a.paddingRight)||0;r.left+=v,_-=v+C,y-=C+C}if(i===document.body)return null;if(e!==document.body&&i===e&&Math.abs(y-_)<=2&&Math.abs(k-x)<=2)return null;var S=r.left;return i.classList.contains("bodyCells")&&document.querySelector(".pivotTableContainer .bodyCells")===i&&(_=S+_,S=0),r.left+_>innerWidth&&r.left<t&&(_=t-r.left),r.top+x>innerHeight&&r.top<innerHeight&&(x=n-r.top),{type:"elt",elt:i,scrollHeight:Math.max(x,k),scrollWidth:Math.max(_,y),top:r.top,bottom:r.top+x,left:S,right:S+_,height:x,width:_,ready:!0}}(i);if(l)return l}return function(e,t){var n=Array.from(document.querySelectorAll("iframe, frame")),o=Math.min(e*t/4,18e4),i=0,a=null;return n.forEach((function(n){var r=window.getComputedStyle(n),s=f(n),l=s.width,d=s.height,c=l*d;if("hidden"!==r.getPropertyValue("visibility")&&"none"!==r.getPropertyValue("display")&&c>=o&&c>i&&s.left+H>=0&&s.left+s.width<=e+H&&s.top+H>=0&&s.top+s.height<=t+H+40){i=c;var p=s.left,h=s.top;a={type:"frame",frame:n,width:l,height:d,top:h,left:p,url:n.src,tagName:n.nodeName.toLowerCase(),bottom:h+d,right:p+l,ready:!1}}})),null!==a?a:null}(e,t)||a}(e.windowWidth,e.windowHeight,e.fullWidth,e.fullHeight);return this.scrollPart=t,t},T.prototype.getDimensions=function(){var e=this.body,t=this.docs,n=window.innerWidth,o=window.innerHeight,i=e?window.getComputedStyle(e):{},a=[t.clientWidth,t.offsetWidth,e?e.offsetWidth:0],r="hidden"===i.overflowY&&"hidden"===i.overflowX,s=[t.clientHeight,t.offsetHeight,r?0:t.scrollHeight],l=[e?e.offsetHeight:0,e&&!r?e.scrollHeight:0],d=R(s),c=R(l),p=R([d,c]),h=R(a);return{windowWidth:n,windowHeight:o,bodyMaxHeight:c,docEltMaxHeight:d,fullWidth:h,fullHeight:p,nonadjustedFullHeight:p,nonadjustedFullWidth:h,root:void 0}};var L,I,F,A,N,B,q,O,X=null,Y={},D=!1,j=!1,V=!1,U=0,G="ontouchend"in document,K={drawStyle:{},updateStyle:function(e){this.drawStyle=e}},Z=["windows-cursor","cursor","cursor-hand","cursor-hand-black","cursor-click","smile","cry","tick-off","cross","forbidden","warning","q-mark","like","heart","star","chicken","dog","rain","sun","cloud","thunder","fish","fish2","tree1","tree2","building1","building2","package","tent","umbrella","car","basketball","beer"],J=["callout","list","list","image","insertImage"],Q={red:"#ff0000",blue:"#4887e8",green:"#00ff00",yellow:"#f1c231",gray:"#666666",white:"#ffffff"},ee={personType:0,loginStatus:!1,iframeMark:"",autoOnline:!1,iframeStatus:!1,setupStatus:!1,temImage:{},resetStatus:function(){this.temImage=null,this.iframeStatus=!1,this.setupStatus=!1},holdTemImage:function(e){e&&(this.temImage=e)},updateAutoOnline:function(e){this.autoOnline=e},updateIframeMask:function(e){this.iframeMark=e},updateType:function(e){this.personType=e,pe()},showUpgrade:function(){q&&$(q).css("display","block")},updateStatus:function(e){this.loginStatus=e,e?Se(!1,!0):B&&$(B).css("display","block")},captureSelectAction:function(t,n){!function(t,n){var o="save";n?(t&&(o="copy"),$(N).find("#awesome_screenshot_capture").addClass("no-after")):o="annotate";if(D)ce(o),e({action:"currentTab"});else{D=!0;var r=C.querySelector("#awesome_screenshot_center");be(C.querySelector("#awesome_screenshot_size"),"display","none"),i(document.location.hostname);try{S.deselect(r)}catch(e){}S.enabled=!1,be(r,"outline","none"),M.init(),/schoology.com/.test(window.location.host);var s=document.documentElement,l=le(document.scrollingElement),d=Math.min(c(),visualViewport.height),p=s.clientWidth,h=S.elmX,u=S.elmY,m=S.elmW,g=S.elmH;g>d&&(M.initFixed(),M.updateFixed(document.scrollingElement,!0,document.scrollingElement.scrollHeight,window.innerWidth));var b=h-function(e){if(!e)return window.pageXOffset;return e.scrollLeft||(document.scrollingElement?document.scrollingElement.scrollLeft:document.defaultView.pageXOffset)}(document.scrollingElement),f=u-le(document.scrollingElement);u<l&&g>d?(b<=0&&(document.scrollingElement.scrollLeft=h),f<=0?document.scrollingElement.scrollTop=u:(C.style.paddingTop=f+"px",document.scrollingElement.scrollTop+=f)):u<l&&(document.scrollingElement.scrollTop=u,f=0,l=u),$e(),he(h,u,m,g),a(document.location.hostname),Le(!0);var w={x:0,y:0,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio};if(u<l){if(m<=p&&g<=d)return void setTimeout(e,300,{action:"visible",counter:1,ratio:g%d/d,scrollBar:{x:!1,y:!1},centerW:(m<=0?1:m)*window.devicePixelRatio,centerH:(g<=0?1:g)*window.devicePixelRatio,menuType:"selected",userAction:o,topCapturePostion:w});nt=2;var v=ee.getCenterPosition();setTimeout(e,300,{action:"scroll_next_done",menuType:"selected",data:{x:v.left*window.devicePixelRatio,y:v.top*window.devicePixelRatio},centerW:v.width*window.devicePixelRatio,centerH:v.height*window.devicePixelRatios,userAction:o,isFirstScroll:!0,windowHeight:window.innerHeight*window.devicePixelRatio,topCapturePostion:w})}else visualViewport.scale>1&&(b=parseInt((b-visualViewport.offsetLeft)*visualViewport.scale),f=parseInt((f-visualViewport.offsetTop)*visualViewport.scale),m=parseInt(m*visualViewport.scale),g=parseInt(g*visualViewport.scale)),setTimeout((function(){e({action:"capture_selected_done",data:{x:b*window.devicePixelRatio,y:f*window.devicePixelRatio,w:(m<=1?1:m)*window.devicePixelRatio,h:(g<=1?1:g)*window.devicePixelRatio},topCapturePostion:w,userAction:o})}),100)}}(t,n)},getSetupStatus:function(){return this.setupStatus},getIframeSatus:function(){return this.iframeStatus},getCenterPosition:function(){var e=C.querySelector("#awesome_screenshot_center"),t=fe(e,"left");return{top:fe(e,"top"),left:t,width:fe(e,"width"),height:fe(e,"height")}}},te={drawFrameInsert:!1,shape:"",style:{},updateFrameStatus:function(e){this.drawFrameInsert=e,this.shape&&this.shape.length>0&&e?this.postMessage(!1):e||e||(this.drawFrameInsert=!1,this.shape="",this.style={})},postMessage:function(e){if(this.drawFrameInsert){var t=J.indexOf(this.shape);0==ee.personType&&t>=0&&(pe(),$("#screenshot_iframe").css("z-index",2147483631)),e||ce("premiumPlan",!(ee.personType>0)),$("#screenshot_iframe")[0].contentWindow.postMessage({type:"drawAction",data:{type:"style",shape:this.shape,style:this.style,changeType:e}},"*")}},updateCurentStyle:function(e,t,n){if(this.shape=e,t){if(t.width)switch(t.width){case"small":default:this.style.width="text"==e||"callout"==e?22:2;break;case"middle":this.style.width="text"==e||"callout"==e?32:4;break;case"big":this.style.width="text"==e||"callout"==e?48:8}else this.style.width="text"==e||"callout"==e?32:4;t.color?this.style.color=Q[t.color]:this.style.color=Q.red}"insertImage"!=e&&"image"!=e||(this.style=t||{}),this.postMessage(n)}};function ne(t){if(e({action:"getPersonType"}),!document.querySelector("#as_select_wrapper")&&!m()){ee.setupStatus=!0,V=!1;var n='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n.dropdown-text-btn {\n  padding: 7px 10px;\n  line-height: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dropdown-text-btn .dropdown-arrow {\n  margin-left: 5px;\n  font-size: 8px;\n  top: -1px;\n}\n.dropdown-text-btn.ant-dropdown-open {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn.ant-dropdown-open:hover {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn:hover {\n  background-color: var(--as-dropdown-btn-bg-color);\n}\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.unselectable {\n  -webkit-user-select: none;\n}\n#awesome_screenshot_wrapper {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2147483620;\n  /* MAX:2147483647 */\n  cursor: crosshair;\n  background-color: rgba(0, 0, 0, 0.3);\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  box-sizing: content-box !important;\n}\n#awesome_screenshot_wrapper * {\n  box-sizing: border-box !important;\n}\n#awesome_screenshot_wrapper > div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: auto;\n}\n#awesome_screenshot_top {\n  top: 0;\n  left: 0;\n}\n#awesome_screenshot_right {\n  top: 0;\n  right: 0;\n}\n#awesome_screenshot_bottom {\n  right: 0;\n  bottom: 0;\n}\n#awesome_screenshot_left {\n  bottom: 0;\n  left: 0;\n}\ndiv#awesome_screenshot_center {\n  cursor: move;\n  outline: 1.5px dashed #d5d5d5;\n  background-color: rgba(0, 0, 0, 0);\n}\n.dragresize {\n  display: block !important;\n  position: absolute !important;\n  z-index: 999 !important;\n  width: 9px !important;\n  height: 9px !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNqMUDEOgCAMrA58CFZX3uDIU/iBX3D0DawkTCS8xhBYao84aOLgJZdy10sLTMxMgDHGSVmFizAKj5zzPpoIaa037z2nlLjWOio0/DFEDg5Ga42fgL6DbsYKay0ppegJaPjjCpI8seIL8NHHpFhKoS/cfkToCCFQ7/0VgIaP/q/XTX/+6RJgAEc6j4dkIiynAAAAAElFTkSuQmCC);\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  font-size: 0.1px !important;\n}\n.dragresize-tl {\n  top: -5px;\n  left: -5px;\n  cursor: nw-resize;\n}\n.dragresize-tm {\n  top: -5px;\n  width: 100% !important;\n  cursor: n-resize;\n}\n.dragresize-tr {\n  top: -5px;\n  right: -5px;\n  cursor: ne-resize;\n}\n.dragresize-ml {\n  left: -5px;\n  height: 100% !important;\n  cursor: w-resize;\n}\n.dragresize-mr {\n  right: -5px;\n  height: 100% !important;\n  cursor: e-resize;\n}\n.dragresize-bl {\n  left: -5px;\n  bottom: -5px;\n  cursor: sw-resize;\n}\n.dragresize-bm {\n  bottom: -5px;\n  width: 100% !important;\n  cursor: s-resize;\n}\n.dragresize-br {\n  right: -5px;\n  bottom: -5px;\n  cursor: se-resize;\n}\n#awesome_screenshot_size {\n  display: none;\n  position: absolute;\n  top: -30px;\n  left: 0;\n}\n#awesome_screenshot_size span {\n  padding: 2px 10px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: #eee;\n  text-align: center;\n  line-height: 20px;\n}\nfont {\n  pointer-events: none;\n}\n#awesome_screenshot_action {\n  display: none;\n  position: absolute;\n  right: 0;\n  background-color: #32343e;\n  z-index: 2147483630;\n  text-align: center;\n  overflow: hidden;\n  border-radius: 2px;\n  height: 38px;\n  font-size: 16px !important;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n}\n#awesome_screenshot_action .awesome_action_btn {\n  display: inline-block;\n  line-height: 38px;\n  height: 38px;\n  background: #32343e;\n  color: white;\n  font-size: 14px;\n  font-weight: 400;\n  font-family: PingFang SC;\n  padding-left: 18px;\n  padding-right: 18px;\n  text-decoration: none !important;\n  cursor: pointer;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span {\n  display: none;\n  position: relative;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(45deg);\n  border-radius: 0.5px;\n  left: -4.5px;\n  bottom: 4.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span:after {\n  display: block;\n  content: "";\n  position: absolute;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(90deg);\n  border-radius: 0.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.copy span {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  left: -3px;\n  bottom: -3px;\n  background-size: 16px 16px;\n}\n#awesome_screenshot_action .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.tooltip {\n  position: relative;\n}\n.tooltip::after {\n  content: attr(aria-label);\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  padding: 4px 6px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 2px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 5px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.tooltip.tooltip-bottom::after {\n  height: 12px;\n  top: 24px;\n  transition-delay: 0.6s;\n}\n.tooltip-bottom.no-after::after {\n  display: none;\n}\n.tooltip.tooltip-right::after {\n  right: auto;\n  left: 0;\n  transform: translate3d(0, 0, 0);\n}\n.tooltip:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.tooltip.delay:hover::after {\n  transition-delay: 0.3s;\n}\n.border-style {\n  display: none;\n  background-color: #5794ff;\n  position: fixed;\n  z-index: 2147483621;\n}\n.border-style.top {\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.border-style.left {\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.right {\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.bottom {\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.annotate_toolbar {\n  display: none;\n  position: absolute;\n  right: -44px;\n  width: 62px;\n  padding: 1px;\n  font-size: 16px;\n  font-family: sans-serif;\n  background-color: #32343e;\n  border-radius: 2px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n  z-index: 2147483630;\n  box-sizing: border-box !important;\n  cursor: pointer;\n}\n.annotate_toolbar .file-input {\n  display: none;\n}\n.annotate_toolbar .svg-panel {\n  display: none;\n  position: absolute;\n  background-color: white;\n  border-radius: 4px;\n  width: 180px !important;\n  height: 177px;\n  top: 0px;\n  overflow-y: scroll;\n  line-height: 48px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);\n}\n.annotate_toolbar .svg-panel.right {\n  left: 64px;\n}\n.annotate_toolbar .svg-panel.left {\n  right: 64px;\n}\n.annotate_toolbar .svg-panel .image-item {\n  width: 48px;\n  height: 48px;\n  background: white;\n  display: inline-block;\n  text-align: center;\n  cursor: pointer;\n  margin: 0 3px 6px 3px;\n}\n.annotate_toolbar .svg-panel .image-item:hover {\n  background: #e0ecff;\n}\n.annotate_toolbar .svg-panel .image-item img {\n  width: 44px;\n  height: 44px;\n  vertical-align: middle;\n}\n.annotate_toolbar .color_panel {\n  display: none;\n  width: 40px;\n  height: 200px;\n  top: 0px;\n  position: absolute;\n  background-color: #191a1e;\n  border-radius: 2px;\n  padding-top: 10px;\n  box-sizing: border-box;\n}\n.annotate_toolbar .color_panel.only_color {\n  height: 124px;\n}\n.annotate_toolbar .color_panel.left {\n  right: -46px;\n}\n.annotate_toolbar .color_panel.left .trangle {\n  left: -6px;\n  border-top: 6px solid transparent;\n  border-right: 6px solid #191a1e;\n  border-bottom: 6px solid transparent;\n}\n.annotate_toolbar .color_panel.right {\n  right: 66px;\n}\n.annotate_toolbar .color_panel.right .trangle {\n  left: 38px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 6px solid #191a1e;\n}\n.annotate_toolbar .color_panel .trangle {\n  position: absolute;\n  top: 10px;\n  width: 8px;\n  height: 8px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors {\n  width: 14px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n}\n.annotate_toolbar .color_panel .colors .width_cell {\n  margin-bottom: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 14px;\n  height: 14px;\n  display: block;\n}\n.annotate_toolbar .color_panel .colors .width_cell.text .font {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell.hidden {\n  display: none;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font {\n  display: none;\n  color: #6e6e6e;\n  line-height: 14px;\n  pointer-events: none;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  font-style: normal;\n  font-family: sans-serif;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.small {\n  font-size: 10px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.middle {\n  font-size: 14px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.big {\n  font-size: 18px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.selected {\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .width_cell.shape .dot {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot {\n  display: none;\n  border-radius: 50%;\n  pointer-events: none;\n  background-color: #6e6e6e;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.small {\n  width: 4px;\n  height: 4px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.middle {\n  width: 8px;\n  height: 8px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.big {\n  width: 12px;\n  height: 12px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.selected {\n  background-color: white;\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .color_cell {\n  width: 14px;\n  height: 14px;\n  border-radius: 1px;\n  margin-bottom: 4px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors .color_cell.selected {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell:active {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell.red {\n  background-color: #ff0000;\n}\n.annotate_toolbar .color_panel .colors .color_cell.blue {\n  background-color: #4887e8;\n}\n.annotate_toolbar .color_panel .colors .color_cell.green {\n  background-color: #00ff00;\n}\n.annotate_toolbar .color_panel .colors .color_cell.yellow {\n  background-color: #f1c231;\n}\n.annotate_toolbar .color_panel .colors .color_cell.gray {\n  background-color: #666666;\n}\n.annotate_toolbar .color_panel .colors .color_cell.white {\n  background-color: #ffffff;\n}\n.annotate_toolbar .action_area {\n  display: block;\n  padding: 2px 5px;\n  line-height: 22px;\n}\n.annotate_toolbar .action_area .awesome_action_btn {\n  display: inline-block;\n  width: 52px;\n  height: 22px;\n  margin: 3px 0px;\n  color: white;\n  border-radius: 2px;\n  font-size: 12px;\n  text-align: center;\n  line-height: 22px;\n  background-color: #505362;\n}\n.annotate_toolbar .action_area .awesome_action_btn:hover {\n  background-color: #3c3f4b;\n}\n.annotate_toolbar .action_area .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save {\n  background-color: #5794ff;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:hover {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:active {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .shapes_area {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: 192px;\n  position: relative;\n}\n.annotate_toolbar .shapes_area .sep_line {\n  width: 46px;\n  height: 1px;\n  background-color: #d8d8d8;\n  position: absolute;\n  bottom: 30px;\n  left: 8px;\n  opacity: 0.26;\n}\n.annotate_toolbar .toolbar_item {\n  text-align: center;\n  position: relative;\n  display: inline-block;\n  margin: 4px 3px;\n  padding: 4px;\n  border-radius: 2px;\n}\n.annotate_toolbar .toolbar_item.action_item {\n  margin-top: 5px;\n  margin-bottom: 3px;\n}\n.annotate_toolbar .toolbar_item:hover {\n  background-color: #25272e;\n}\n.annotate_toolbar .toolbar_item:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.selected {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.isfree {\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item.disable {\n  pointer-events: none;\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item .toolbtn {\n  /* background-color: green; */\n  position: relative;\n  height: 16px;\n  width: 16px;\n  pointer-events: none;\n  background-size: 496px auto;\n  background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .annotate_toolbar .toolbar_item .toolbtn {\n    background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons@2x.png);\n  }\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect {\n  background-position: 0 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.ellipse {\n  background-position: -16px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.line_arrow {\n  background-position: -32px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.curve {\n  background-position: -48px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect_blur {\n  background-position: -64px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.text {\n  background-position: -80px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.callout {\n  background-position: -304px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.list {\n  background-position: -320px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.image {\n  background-position: -336px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.insertImage {\n  background-position: -352px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.clear-all {\n  background-position: -416px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.undobtn {\n  background-position: -96px 0;\n}\n.content-sign {\n  display: none;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  text-align: center;\n  font-size: 14px;\n  z-index: 2147483632;\n}\n.content-sign .center-block {\n  text-align: left;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 244px;\n  padding: 22px;\n  background-color: white;\n  box-shadow: 0px 6px 12px 0px rgba(0, 0, 0, 0.18);\n  border-radius: 4px;\n  transform: translate3d(-50%, -50%, 0);\n}\n.content-sign .center-block.upgrade {\n  width: 260px;\n  padding: 20px;\n  text-align: center;\n}\n.content-sign .center-block.upgrade img {\n  height: 60px;\n  width: 60px;\n  filter: invert(71%) sepia(53%) saturate(647%) hue-rotate(339deg) brightness(104%) contrast(98%);\n}\n.content-sign .center-block.upgrade .tips {\n  font-size: 16px;\n  line-height: 24px;\n  color: #383C43;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 16px;\n}\n.content-sign .center-block.upgrade .popup-btn-primary {\n  border-color: #5794ff;\n  background-color: #5794ff;\n  color: white;\n  line-height: 36px !important;\n  border-radius: 8px !important;\n  font-size: 14px;\n  font-weight: bold;\n  margin-top: 10px;\n  cursor: pointer;\n}\n.content-sign .center-block.upgrade .sub-item {\n  text-align: center;\n  font-size: 12px;\n  line-height: 34px;\n  height: 34px;\n  margin-top: 10px;\n  border-radius: 8px;\n  cursor: pointer;\n  color: #5794FF;\n}\n.content-sign .center-block .close {\n  position: absolute;\n  right: 16px;\n  top: 12px;\n  font-size: 24px;\n  color: #979797;\n  transform: rotate(45deg);\n  cursor: pointer;\n}\n.content-sign .center-block p {\n  font-size: 14px;\n  line-height: 24px;\n  margin-top: 0;\n}\n.content-sign .center-block .popup-btn-primary {\n  text-align: center;\n  border: 1px solid #666;\n  border-radius: 4px;\n  line-height: 40px;\n  font-size: 15px;\n  margin-top: 10px;\n  cursor: pointer;\n  border-color: #5794ff;\n  background-color: #5794ff;\n  color: white;\n}\n/******************notification******************/\n#asNotifyBox {\n  border-radius: 3px;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);\n  border: solid 1px #fff;\n  background-image: -webkit-linear-gradient(top, #f9f9f9, #f5f5f5);\n  position: fixed;\n  top: 5px;\n  right: 5px;\n  z-index: 1000000;\n  padding: 10px;\n  width: 280px;\n  -webkit-animation: fadeIn 300ms ease;\n}\n#asNotifyBox img {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n#as-notifyMessage {\n  font: normal 12px/14px arial, Helvetica;\n  white-space: normal;\n  word-break: break-all;\n  display: inline-block;\n  width: 230px;\n  vertical-align: middle;\n}\n#as-notifyClose {\n  position: absolute;\n  right: 3px;\n  top: 3px;\n  height: 12px;\n  width: 12px;\n  background-image: url("chrome-extension://__MSG_@@extension_id__/images/clear.png");\n  opacity: 0.3;\n  cursor: pointer;\n}\n#as-notifyClose:hover {\n  opacity: 0.5;\n}\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n/***********Admanage**********/\n#sa-admanage-box {\n  margin: 0px -28px 11px 0px;\n  padding: 2px 8px 6px 8px;\n  background-color: #fff7ed;\n}\n#sa-admanage-box ol {\n  margin-top: -14px;\n}\n#sa-admanage-box h2 span {\n  font-size: 10px;\n  text-align: left;\n  color: #767676;\n  font-weight: normal;\n}\n#sa-admanage-box h2 {\n  margin: 0px;\n  text-align: right;\n  line-height: 10px;\n}\n#sa-admanage-box li {\n  margin: 20px 8px 0 0;\n  max-width: 440px;\n}\n/***************** delay div *******************/\n#awe_delay_div {\n  box-sizing: content-box !important;\n  height: 90px !important;\n  width: 120px !important;\n  text-align: center !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  font-size: 72px !important;\n  font-weight: bold !important;\n  position: fixed !important;\n  right: 20px !important;\n  top: 20px;\n  z-index: 1000000 !important;\n  line-height: 100px !important;\n  color: white !important;\n  border-top-left-radius: 3px !important;\n  border-top-right-radius: 3px !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;\n  font-family: Arial !important;\n}\n#awe_delay_div.countdown {\n  left: 0 !important;\n  right: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_div.countdown #awe_delay_cancel {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_cancel {\n  width: 120px !important;\n  height: 30px !important;\n  line-height: 30px !important;\n  font-size: 14px !important;\n  font-weight: normal !important;\n  position: absolute !important;\n  bottom: -31px !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  cursor: pointer !important;\n  border-bottom-left-radius: 3px !important;\n  border-bottom-right-radius: 3px !important;\n}\n#awe_delay_cancel:hover {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#aws-record-div {\n  height: 1px !important;\n  width: 1px !important;\n  position: fixed !important;\n  left: 0 !important;\n  top: 0 !important;\n  background-color: rgba(0, 0, 0, 0.2) !important;\n  animation: fadeIn 1000ms infinite !important;\n}\n',o=chrome.runtime.getURL("");n=n.replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,o),(X=document.createElement("as-select-wrapper")).id="as_select_wrapper",(/instagram.com/.test(window.location.href)||/fritolayemployment.majestic.dev/.test(window.location.href))&&(X.style.position="static");var i=X.attachShadow({mode:"open"}),a=document.createElement("style");a.innerHTML=n,i.appendChild(a),$(g('<div id="awesome_screenshot_wrapper"><div id="awesome_screenshot_top"></div><div id="awesome_screenshot_right"></div><div id="awesome_screenshot_bottom"></div><div id="awesome_screenshot_left"></div><div id="awesome_screenshot_center" class="drsElement drsMoveHandle"><div id="awesome_screenshot_size" style="min-width: 70px;"><span>0 X 0</span></div></div></div><div id="sign_view" class="content-sign"><div class="center-block"><div class="close" id="close">+</div><p class="content">Saving image to Cloud is selected in your extension menu and therefore sign-in is required.</p><div class="btn-area"><div class="popup-btn-primary" id="popup-sign-in-btn">Sign in now</div></div></div></div><div id="upgrade_view" class="content-sign"><div class="center-block upgrade"><div class="close" id="close_upgrade">+</div><img src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_crown.svg"><div class="tips">You\'ve reached the 100 screenshot limit</div><div class="btn-area"><div class="popup-btn-primary" id="popup-imge-upgrade-btn" data-reason="ext_pop_image_limit">Upgrade now</div><div class="sub-item" id="change-local">Refer friends to get free Professaionl plan</div></div></div></div><div class="border-style top"></div><div class="border-style left"></div><div class="border-style right"></div><div class="border-style bottom"></div>\x3c!-- <div id="awesome_screenshot_action">\n  <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel"\n    ></span>$i18n{capture_btn_cancel}</a\n  ><a id="awesome_screenshot_copy" class="awesome_action_btn copy"\n    >$i18n{capture_btn_copy}</a\n  ><a id="awesome_screenshot_capture" class="awesome_action_btn"\n    >$i18n{capture_btn_capture}</a\n  >\n</div> --\x3e<div id="screenshot_annotate" class="annotate_toolbar"><input id="file_input" type="file" class="file-input" accept=".jpg,.png,.jpeg"><div id="shapes_area" class="shapes_area"><div id="awesome_rect_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_rect_btn}"><div class="toolbtn rect"></div></div><div id="awesome_round_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_ellipse_btn}"><div class="toolbtn ellipse"></div></div><div id="awesome_arrow_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_arrow_btn}"><div class="toolbtn line_arrow"></div></div><div id="awesome_freeline_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_pen_btn}"><div class="toolbtn curve"></div></div><div id="awesome_blur_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_blur_btn}"><div class="toolbtn rect_blur"></div></div><div id="awesome_undo_btn" aria-label="$i18n{vtoolbar_undo_btn}" class="toolbar_item action_item tooltip tooltip-right disable"><div class="toolbtn undobtn"></div></div><div id="awesome_text_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_text_btn}"><div class="toolbtn text"></div></div><div id="awesome_callout_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_callout_btn}"><div class="toolbtn callout"></div></div><div id="awesome_step_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_step_btn}"><div class="toolbtn list"></div></div><div id="awesome_image_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_emoji_btn}"><div class="toolbtn image"></div></div><div id="awesome_image_local_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_image_btn}"><div class="toolbtn insertImage"></div></div><div class="sep_line"></div><div id="awesome_clear_btn" class="toolbar_item action_item tooltip tooltip-right disable" aria-label="$i18n{vtoolbar_clear_btn}"><div class="toolbtn clear-all icon-text"></div></div></div><div class="action_area"><a id="awesome_screenshot_copy" class="awesome_action_btn copy">$i18n{capture_btn_copy}</a> <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel">$i18n{capture_btn_cancel}</a> <a id="awesome_screenshot_capture" class="awesome_action_btn tooltip tooltip-bottom save" aria-label="Ctrl+Shift+Enter">$i18n{capture_btn_capture}</a></div><div id="awesome_color_panel" class="color_panel left"><div class="trangle"></div><div class="colors"><div id="awesome_width_small" class="width_cell shape"><div class="dot small"></div><div class="font small">A</div></div><div id="awesome_width_middle" class="width_cell shape"><div class="dot middle"></div><div class="font middle">A</div></div><div id="awesome_width_big" class="width_cell shape"><div class="dot big"></div><div class="font big">A</div></div><div id="red_clr" class="color_cell red"></div><div id="blue_clr" class="color_cell blue"></div><div id="green_clr" class="color_cell green"></div><div id="yellow_clr" class="color_cell yellow"></div><div id="gray_clr" class="color_cell gray"></div><div id="white_clr" class="color_cell white"></div></div></div><div id="awesome_svgs_panel" class="svg-panel right"></div></div>').replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL(""))).appendTo(i),C=i.querySelector("#awesome_screenshot_wrapper"),N=i.querySelector("#screenshot_annotate"),B=i.querySelector("#sign_view"),q=i.querySelector("#upgrade_view"),ge(C),pe(),(O=N.querySelector("#file_input")).addEventListener("change",Ee),window.addEventListener("resize",se,!1),document.body.addEventListener("keydown",re,!1),document.addEventListener("visibilitychange",ae),t||(C.addEventListener("mousedown",ie,!1),G&&C.addEventListener("touchstart",oe,!1)),document.documentElement.appendChild(X),$e(),Y=K.drawStyle,t?(D=!0,be(N,"display","block"),ue(document.documentElement.scrollTop,document.documentElement.scrollLeft,document.documentElement.clientWidth,c(),!0),ze(),document.scrollingElement&&s.add("changeCssText",{element:document.scrollingElement,cssObj:{overflow:"hidden"}}),$(i).find(".border-style").show()):(D=!1,te.haveInsertFrame=!1),function(){B.addEventListener("click",Te,!1),G&&B.addEventListener("touchend",(function(e){e.preventDefault(),Te(e.changedTouches[0])}),!1);q.addEventListener("click",Te,!1),G&&q.addEventListener("touchend",(function(e){e.preventDefault(),Te(e.changedTouches[0])}),!1)}()}}function oe(e){e.preventDefault();var t=this;if(e.changedTouches.length>0){var n,o,i=function(e){e.preventDefault(),be(t,"background-color","rgba(0,0,0,0)"),o=parseInt(e.changedTouches[0].pageX)-a,n=parseInt(e.changedTouches[0].pageY)-r,s.children[0].innerHTML=parseInt(Math.abs(o))+" X "+parseInt(Math.abs(n)),he(a,r,o,n),me(a,r,o,n),de(e.changedTouches[0])},a=parseInt(e.changedTouches[0].pageX),r=parseInt(e.changedTouches[0].pageY),s=t.querySelector("#awesome_screenshot_size");U=r,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",(function e(l){if(l.preventDefault(),parseInt(l.changedTouches[0].pageX)-a!=0&&parseInt(l.changedTouches[0].pageY)-r!=0||!t.querySelector("#awesome_screenshot_center").clientWidth)ue(a,r,o,n);else{be(t,"background-color","rgba(0,0,0,0)"),s.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var d=a-100;d<=0?d=0:d>window.innerWidth-200&&(d=window.innerWidth-200);var c=r-100;c<=0?c=0:c>window.innerHeight-200&&(c=window.innerHeight-200),he(d,c,200,200),me(d,c,200,200),ue(d,c,200,200)}t.removeEventListener("touchstart",oe,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",e,!1),be(A,"display","block"),be(N,"display","block"),be(s,"display","block"),Re()}),!1)}}function ie(e){if(0==e.button){var t,n,o=function(e){be(C,"background-color","rgba(0,0,0,0)"),n=e.pageX-i,t=e.pageY-a,r.children[0].innerHTML=Math.abs(n)+" X "+Math.abs(t),he(i,a,n,t),me(i,a,n,t),de(e)},i=e.pageX,a=e.pageY,r=C.querySelector("#awesome_screenshot_size");U=a,C.addEventListener("mousemove",o,!1),C.addEventListener("mouseup",(function e(s){if(s.pageX-i!=0&&s.pageY-a!=0||0!=C.querySelector("#awesome_screenshot_center").clientWidth)ue(i,a,n,t);else{be(C,"background-color","rgba(0,0,0,0)"),r.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var l=i-100;l<=0?l=0:l>window.innerWidth-200&&(l=window.innerWidth-200);var d=a-100;d<=0?d=0:d>window.innerHeight-200&&(d=window.innerHeight-200),he(l,d,200,200),me(l,d,200,200),ue(l,d,200,200)}C.removeEventListener("mousedown",ie,!1),C.removeEventListener("mousemove",o,!1),C.removeEventListener("mouseup",e,!1),be(A,"display","block"),be(N,"display","block"),be(r,"display","block"),Re()}),!1)}}function ae(){"visible"===document.visibilityState&&0==ee.personType&&e({action:"getPersonType"})}function re(e){switch(e.keyCode){case 27:We();break;case 46:case 8:ce("deleteSelected");break;case 13:e.shiftKey&&e.ctrlKey&&Ce()}}function se(e){ge(C),$e();var t=C.querySelector("#awesome_screenshot_center"),n=fe(t,"width"),o=fe(t,"height");if(n*o){var i=fe(t,"left"),a=fe(t,"top");he(i,a,n,o),ue(i,a,n,o)}S.maxLeft=I,S.maxTop=L}function le(e){return e?e.scrollTop||(document.scrollingElement?document.scrollingElement.scrollTop:document.defaultView.pageYOffset):window.pageYOffset}function de(e){if(!te.drawFrameInsert){var t=C.querySelector("#awesome_screenshot_center"),n=fe(t,"top"),o=fe(t,"height"),i=le(document.scrollingElement),a=e.clientY,r=e.clientX,s=window.innerHeight-a,l=window.innerWidth-r,d=!(e.pageY>U);U=e.pageY;var c=i+window.innerHeight-n-o,p=n-i;e.target==t&&o<window.innerHeight?(p<30&&d?document.scrollingElement.scrollTop-=Math.abs(p)+15:c<50&&!d&&(document.scrollingElement.scrollTop+=Math.abs(c)+16>48?Math.abs(c)+16:48),r<40&&(document.scrollingElement.scrollLeft-=25),l<40&&(document.scrollingElement.scrollLeft+=60-l)):(a<20&&d?document.scrollingElement.scrollsTop-=35:s<40&&!d&&(document.scrollingElement.scrollTop+=60-s),r<40&&(document.scrollingElement.scrollLeft-=25),l<40&&(document.scrollingElement.scrollLeft+=60-l))}}function ce(e,t){te.drawFrameInsert&&$("#screenshot_iframe")[0].contentWindow.postMessage({type:e,data:{type:e,value:t}},"*")}function pe(){var e=!1;N&&(0==ee.personType?($(N).find(".premium").addClass("isfree"),e=!0):$(N).find(".premium").removeClass("isfree"),te.drawFrameInsert&&ce("premiumPlan",e))}function he(e,t,n,o){var i=window.innerWidth,a=window.innerHeight;document.scrollingElement&&(i=document.scrollingElement.scrollWidth,a=document.scrollingElement.scrollHeight);var r=n>=0?e+n:e,s=o>=0?t:t+o,l=n>=0?i-e-n:i-e,d=o>=0?t+o:t,c=n>=0?i-e:i-e-n,p=a-d,h=i-c,u=a-s,m=C.querySelector("#awesome_screenshot_top"),g=C.querySelector("#awesome_screenshot_right"),b=C.querySelector("#awesome_screenshot_bottom"),f=C.querySelector("#awesome_screenshot_left");be(m,"width",r+"px"),be(m,"height",s+"px"),be(g,"width",l+"px"),be(g,"height",d+"px"),be(g,"left",r+"px"),be(b,"width",c+"px"),be(b,"height",p+"px"),be(b,"top",d+"px"),be(b,"left",h+"px"),be(f,"width",h+"px"),be(f,"height",u+"px"),be(f,"top",s+"px")}function ue(e,t,n,o,i){var a=282;(Math.abs(o)>c()||!ee.autoOnline||Math.abs(o)>Math.round(visualViewport.height))&&!i?($(N).find("#shapes_area").css("display","none"),a=90):$(N).find("#shapes_area").css("display","flex");var r=window.innerWidth-108,s=o>0?t+o:t,l=n>0?e+n:e,d=Math.abs(o),p=n>0?e:e+n;if(i){if(visualViewport.scale>1){var h=window.innerWidth-visualViewport.width-visualViewport.offsetLeft+10;be(N,"right",h+"px");var u=le(document.scrollingElement)+(d-265+visualViewport.offsetTop)/2;be(N,"top",u+"px")}else{be(N,"right","48px");u=le(document.scrollingElement)+(d-265)/2;be(N,"top",u+"px")}j=!0}else{if(l>r){var m=window.innerWidth-l;if(p>124){var g=window.innerWidth-p+4;be(N,"right",g+"px")}else{var b=m+4;be(N,"right",(g=m-106)>0?g+40+"px":(b>46?b:46)+"px"),g<0&&(j=!0)}}else be(N,"right",r-l+42+"px"),j=!1;be(N,"top",((u=s-a-20)>0?u:0)+"px")}be(N,"display","block")}function me(e,t,n,o){var i=n>=0?e:e+n,a=o>=0?t:t+o,r=C.querySelector("#awesome_screenshot_center");be(r,"width",Math.abs(n)+"px"),be(r,"height",Math.abs(o)+"px"),be(r,"top",a+"px"),be(r,"left",i+"px")}function ge(e){be(e,"display","none");var t=window.innerWidth,n=window.innerHeight;document.scrollingElement?(t=document.scrollingElement.scrollWidth,n=document.scrollingElement.scrollHeight):document.documentElement&&(t=document.documentElement.scrollWidth,n=document.documentElement.scrollHeight),be(e,"width",t+"px"),be(e,"height",n+"px"),be(e,"display","block")}function be(e,t,n){e&&e.style.setProperty(t,n)}function fe(e,t){return parseInt(e.style.getPropertyValue(t))}function we(e){ke(),ye(),ce(e)}function ve(t,n,o){Y[F]||(Y[F]={}),n?($(N).find(".color_cell").removeClass("selected"),Y[F].color=o,$(t).addClass("selected")):("text"===F?($(N).find(".width_cell").removeClass("shape"),$(N).find(".width_cell").addClass("text"),$(N).find(".font").removeClass("selected"),$(N).find("."+o).addClass("selected")):($(N).find(".width_cell").removeClass("text"),$(N).find(".width_cell").addClass("shape"),$(N).find(".dot").removeClass("selected"),$(N).find("."+o).addClass("selected")),Y[F].width=o),e({action:"recordStyle",shape:F,isColor:n,value:o}),te.updateCurentStyle(F,Y[F],n?2:3)}function xe(e,t,n,o){var i=!0;o&&(i=!1),!D&&i&&Se(!1,!1),F=t,$(N).find(".toolbar_item").removeClass("selected"),i?$(e).addClass("selected"):$(N).find("."+t).parent().addClass("selected");var a=!0;"insertImage"!==t&&"image"!==t&&(!function(e,t){var n,o=!0;t&&(o=!1);Y[e]||(Y[e]={});n=o?Y[e]:t;if(n.width){var i=n.width;"text"===e?($(N).find(".width_cell").removeClass("shape"),$(N).find(".width_cell").addClass("text"),$(N).find(".font").removeClass("selected"),$(N).find("."+i).addClass("selected")):($(N).find(".width_cell").removeClass("text"),$(N).find(".width_cell").addClass("shape"),$(N).find(".dot").removeClass("selected"),$(N).find("."+i).addClass("selected"))}else"text"===e?($(N).find(".width_cell").removeClass("shape"),$(N).find(".width_cell").addClass("text"),$(N).find(".font").removeClass("selected"),$(N).find(".middle").addClass("selected")):($(N).find(".width_cell").removeClass("text"),$(N).find(".width_cell").addClass("shape"),$(N).find(".dot").removeClass("selected"),$(N).find(".middle").addClass("selected"));n.color?($(N).find(".color_cell").removeClass("selected"),$(N).find("."+n.color).addClass("selected")):($(N).find(".color_cell").removeClass("selected"),$(N).find(".red").addClass("selected"))}(t,o),a=!1),i&&te.updateCurentStyle(t,a?"":Y[t],1),"rect_blur"===t?($(N).find("#awesome_color_panel").css("display","none"),ye()):te.drawFrameInsert&&n&&_e()}function _e(){var e,t;if(S?(e=S.elmX,t=S.elmW):(e=0,t=window.innerWidth),F){var n=["rect","ellipse","line_arrow","curve","rect_blur","undo","text","callout","list"].indexOf(F);if(n>=0){var o=!1;(42<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e,t,n){ye();var o=$(N).find("#awesome_color_panel"),i=$(N).find(".trangle")[0];e?(o.removeClass("left"),o.addClass("right")):(o.removeClass("right"),o.addClass("left"));n?($(o).find(".width_cell").addClass("hidden"),$(o).addClass("only_color")):($(o).removeClass("only_color"),$(o).find(".width_cell").removeClass("hidden"));$(i).css("top",t+"px"),o.css("display","block")}(n<5,12+n%6*31)}else if($(N).find("#awesome_color_panel").css("display","none"),"image"==F){var i;o=!1;(66<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e){var t=N.querySelector("#awesome_svgs_panel");if(0==t.childElementCount){var n="",o=chrome.runtime.getURL("");Z.forEach((function(e){n+="<div class='image-item' value = "+e+"> <img id = "+e+" src='"+(o+"images/svg/"+e+".svg")+"'/></div>"})),t.innerHTML=n}e?($(t).removeClass("right"),$(t).addClass("left")):($(t).removeClass("left"),$(t).addClass("right"));$(t).css("display","block")}(o)}}}function ye(){$(N).find("#awesome_svgs_panel").css("display","none"),N.querySelector("#awesome_image_btn").parentNode.classList.remove("selected")}function ke(){$(N).find("#awesome_color_panel").css("display","none")}function Ce(){e({action:"checkUserStatus"})}function Se(t,n){e({action:"canCapture",isCopy:t,isUserAction:n})}function Ee(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);te.updateCurentStyle("insertImage",{name:n})}}function He(){B&&$(B).css("display","none")}function Me(){q&&$(q).css("display","none")}function Te(t){switch(t.target.id){case"popup-sign-in-btn":e({action:"openNewTab",url:"https://www.awesomescreenshot.com/signin?from=ext_pop_capture"}),He();break;case"close":He();break;case"close_upgrade":Me();break;case"popup-imge-upgrade-btn":e({action:"imgeLimit",reason:"ext_pop_image_limit"}),Me();break;case"change-local":e({action:"inviteFriend"}),Me()}}function ze(){N.addEventListener("click",Pe,!1),G&&N.addEventListener("touchend",(function(e){e.preventDefault(),Pe(e.changedTouches[0])}),!1)}function Pe(e){try{e.stopPropagation()}catch(e){}switch(e.target.id){case"awesome_rect_btn":xe(e.target,"rect",!0);break;case"awesome_round_btn":xe(e.target,"ellipse",!0);break;case"awesome_arrow_btn":xe(e.target,"line_arrow",!0);break;case"awesome_freeline_btn":xe(e.target,"curve",!0);break;case"awesome_blur_btn":xe(e.target,"rect_blur",!1);break;case"awesome_text_btn":xe(e.target,"text",!0);break;case"awesome_callout_btn":xe(e.target,"callout",!0);break;case"awesome_step_btn":xe(e.target,"list",!0);break;case"awesome_image_btn":xe(e.target,"image",!0);break;case"awesome_image_local_btn":D||Se(!1,!1),0==ee.personType?($(N).find("#awesome_color_panel").css("display","none"),ye(),te.updateCurentStyle("insertImage",{})):$(O).click();break;case"awesome_clear_btn":we("clear");break;case"awesome_undo_btn":we("undo");break;case"awesome_width_small":ve(e.target,!1,"small");break;case"awesome_width_middle":ve(e.target,!1,"middle");break;case"awesome_width_big":ve(e.target,!1,"big");break;case"red_clr":ve(e.target,!0,"red");break;case"blue_clr":ve(e.target,!0,"blue");break;case"green_clr":ve(e.target,!0,"green");break;case"yellow_clr":ve(e.target,!0,"yellow");break;case"gray_clr":ve(e.target,!0,"gray");break;case"white_clr":ve(e.target,!0,"white");break;case"awesome_screenshot_capture":Ce();break;case"awesome_screenshot_cancel":We();break;case"awesome_screenshot_copy":Se(!0,!0);break;default:var t=e.target.id;Z.indexOf(t)>=0&&(te.updateCurentStyle("image",{name:t}),ye())}}function Re(){var e=C.querySelector("#awesome_screenshot_center");S=new DragResize("dragresize",{maxLeft:I,maxTop:L});var t=C.querySelector("#awesome_screenshot_size");S.isElement=function(e){if(e.className&&e.className.indexOf("drsElement")>-1)return!0},S.isHandle=function(e){if(e.className&&e.className.indexOf("drsMoveHandle")>-1)return!0},S.ondragmove=function(e,n){var o=S.elmX,i=S.elmY,a=S.elmW,r=S.elmH;t.children[0].innerHTML=parseInt(Math.abs(a))+" X "+parseInt(Math.abs(r)),be(t,"top",i<30?"5px":"-30px"),ue(o,i,a,r),he(o,i,a,r),me(o,i,a,r),de(n)},S.apply(C),S.select(e),ze()}function $e(){L=window.innerHeight,I=window.innerWidth,document.scrollingElement&&(L=document.scrollingElement.scrollHeight,I=document.scrollingElement.scrollWidth)}function We(){window.removeEventListener("resize",se),document.body.removeEventListener("keydown",re,!1),document.removeEventListener("visibilitychange",ae),C&&C.parentNode&&C.parentNode.removeChild(C);var e=document.querySelector("#as_select_wrapper");e&&e.parentNode.removeChild(e);var t=document.querySelector("#screenshot_iframe");t&&t.parentNode.removeChild(t),te.updateFrameStatus(!1),$(window).unbind("scroll"),$("body").removeClass("unselectable"),r(),D=!1,S=null,F="",te.drawFrameInsert=!1,ee.resetStatus(),M.popAll(),M.popAllFixed()}function Le(e){e?j&&be(N,"visibility","hidden"):be(N,"visibility","visible")}window.addEventListener("message",(function(t){if((!t.data||t.data.mark==ee.iframeMark)&&t.data)switch(t.data.type){case"initIframe":V||(Le(!1),_e(),function(){if(visualViewport.scale>1){var e=1/visualViewport.scale;$("#screenshot_iframe").css("transform","scale("+e+")");var t=(visualViewport.width-window.innerWidth)/2+visualViewport.offsetLeft;$("#screenshot_iframe").css("left",t+"px");var n=(visualViewport.height-window.innerHeight)/2+visualViewport.offsetTop;$("#screenshot_iframe").css("top",n+"px")}}(),V=!0,$("#screenshot_iframe")[0].contentWindow.postMessage({type:"init",dataUrl:ee.temImage},"*"),te.updateFrameStatus(!0),ee.iframeStatus=!0,e({action:"getPersonType"}),document.documentElement==document.scrollingElement?s.add("changeCssText",{element:document.documentElement,cssObj:{overflow:"hidden"}}):s.add("addStyle",{id:"disable_scroll-capture",css:"html{overflow: hidden !important; height: 100% !important}"}));break;case"selected":t.data.data?function(e){var t;ye();var n={};switch(e.shape){case 1:t="curve";break;case 3:t="rect";break;case 4:t="ellipse";break;case 7:t="callout";break;case 8:t="list";break;case 23:case 20:case 2:t="line_arrow";break;case 5:t="rect_blur";break;case 80:t="text"}var o=!0;e.isInsert&&($(N).find("#awesome_color_panel").css("display","none"),o=!1),t&&(n.width=function(e,t){var n="middle";if("text"!==t&&"callout"!==t)switch(e){case 2:n="small";break;case 4:n="middle";break;case 8:n="big"}else switch(e){case 22:n="small";break;case 32:n="middle";break;case 48:n="big"}return n}(e.penWidth,t),n.color=function(e){var t="red";switch(e){case"rgba(255,0,0,1)":t="red";break;case"rgba(0,255,0,1)":t="green";break;case"rgba(72,135,232,1)":t="blue";break;case"rgba(241,194,49,1)":t="yellow";break;case"rgba(102,102,102,1)":t="gray";break;case"rgba(255,255,255,1)":t="white"}return t}(e.color),xe("",t,o,n))}(t.data.data):V?V=!1:(ke(),ye());break;case"copy":e({action:"copyInPage"}),ye(),t.data.data&&(u(t.data.data),We(),r());break;case"undo":t.data.data?$(N).find("#awesome_undo_btn").removeClass("disable"):$(N).find("#awesome_undo_btn").addClass("disable");break;case"closeModel":$("#screenshot_iframe").css("z-index",2147483620);break;case"removeselect":We(),r();break;case"clear":t.data.data?$(N).find("#awesome_clear_btn").addClass("disable"):$(N).find("#awesome_clear_btn").removeClass("disable")}}));var Ie,Fe,Ae=1,Ne=0,Be=0,qe=0,Oe=0,Xe=!1,Ye=window.location.hostname,De={},je=[],Ve=!1,Ue=0,Ge=!1,Ke=!1,Ze=!1,Je=!1,Qe=!1,et=0,tt=!1,nt=0,ot={visible:{enable:"false",key:"V"},selected:{enable:"false",key:"S"},entire:{enable:"false",key:"E"}},it=null;function at(){return document.scrollingElement?document.scrollingElement.scrollHeight>window.innerHeight:!document.documentElement||document.documentElement.scrollHeight>window.innerHeight}function rt(){return window.self!==window.top}function st(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}function lt(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function dt(e,t,n){var o=e;e||(o=window),o.scrollTo&&"function"==typeof o.scrollTo?o.scrollTo(n||0,t):(o.scrollTop=t,n&&(o.scrollLeft=n))}function ct(t){var n=!1,o=0;Je=!1,Qe=!1,et=0,tt=!1,0,nt=0,M.init(),M.initFixed(),dt(document.scrollingElement,0);var i=(Ie=new T(document.body&&0===document.body.offsetHeight||!1,window.scrollX,window.scrollY)).getScrollPart();if(i.frame&&(n=!0),Ie.parpareDeal(),Ne=Ie.getScrollNode().scrollTop,Be=Ie.getScrollNode().scrollLeft,"elt"!==i.type&&document.body!==Ie.scrollNode||M.handleScrollNode(i.elt||Ie.scrollNode),dt(Ie.scrollNode,0,0),dt(document.scrollingElement,0),Ie.dimensions.fullHeight,Ie.scrollPart&&M.dealBottomAbsoltesInner(!0,Ie.contentClip),i.elt&&(M.hideScrollbarsInner(i.elt),dt(Ie.scrollNode,1,0),o=100),n&&!rt())return function(){Ke=!1,Ze=!1;var e=Ie.getScrollPart().frame;e&&e.contentWindow.postMessage({type:"checkFrameStatus"},"*")}(),void setTimeout((function(){if(Ke){var t=function(e){var t=e.getScrollPart(),n=t.frame;n?(Ze=!0,n.contentWindow.postMessage({type:"initCaptureFrame",parentPage:{top:t.top,left:t.left,right:t.width,bottom:t.bottom,parentHeight:window.innerHeight,parentWidth:window.innerWidth}},"*")):Ze=!1;return Ze}(Ie);t||e({action:"visible",menuType:"entire"})}else e({action:"visible",menuType:"entire"})}),200);if(Xe=!1,0,qe=lt(),Oe=document.documentElement.clientWidth,mt(),window.onresize=mt,Ie.dimensions.fullHeight<=window.innerHeight||function(){if(Ie&&"empty"===Ie.getScrollPart().type&&/behance.net/.test(window.location.host)){if("hidden"===window.getComputedStyle(document.scrollingElement).getPropertyValue("overflow"))return!0}return!1}())return De.y=!1,void(rt()?ht({action:"visible",menuType:"entire"}):e({action:"visible",menuType:"entire"}));De.y=!0,Fe||(Fe="entire "+Math.random()),function(e){if(e&&Ie&&rt()){if(Ie.contentClip.y+=e.top*window.devicePixelRatio,Ie.contentClip.x+=e.left*window.devicePixelRatio,Ie.contentClip.height-=1*window.devicePixelRatio,Ie.topCapturePostion.x=0,Ie.topCapturePostion.y=0,Ie.bottomPostion||(Ie.topCapturePostion.height=e.parentHeight*window.devicePixelRatio),e.left>0){var t=!1,n=e.left;Ie.bgRegions.length>0&&Ie.bgRegions.forEach((function(e){e&&e.fill.width>0&&e.fill.height>0&&0==e.fill.x&&(e.width+=n,t=!0)})),t||Ie.bgRegions.push({fill:{x:0,y:e.top,width:n,height:Ie.contentClip.height},sample:{x:0,y:e.top,width:n,height:Ie.contentClip.height}})}var o=(Ie.contentClip.x+Ie.contentClip.width)/window.devicePixelRatio;if(o<e.parentWidth){n=e.parentWidth-o;var i=!1,a=Ie.contentClip.height/window.devicePixelRatio;Ie.bgRegions.length>0&&Ie.bgRegions.forEach((function(e){e&&e.fill.width>0&&e.fill.height>0&&e.fill.x>0&&(e.width+=n,e.x=o,i=!0)})),i||Ie.bgRegions.push({fill:{x:o,y:e.top,width:n,height:a},sample:{x:o,y:e.top,width:n,height:a}})}}}(t);var a={action:"scroll_next_done",userAction:"save",isFirstScroll:!0,contentClip:Ie.contentClip,bottomClip:Ie.bottomPostion,bgRegions:pt(Ie.bgRegions),topCapturePostion:Ie.topCapturePostion,devicePixelRatio:window.devicePixelRatio,mark:Fe,windowHeight:window.innerHeight*window.devicePixelRatio};nt=2,setTimeout((function(){Ie.dimensions=Ie.getDimensions(),M.updateFixed(Ie.getScrollNode()?Ie.getScrollNode():document.scrollingElement,!0,Ie.dimensions.nonadjustedFullHeight,window.innerWidth),dt(Ie.scrollNode,0,0),rt()?setTimeout((function(){ht(a)}),300):setTimeout((function(){e(a)}),150+o)}),150+wt())}function pt(e){var t=[];return e&&e.forEach((function(e){e.sample={x:e.sample.x*window.devicePixelRatio,y:e.sample.y*window.devicePixelRatio,width:e.sample.width*window.devicePixelRatio,height:e.sample.height*window.devicePixelRatio},t.push(e)})),t}function ht(e){window.parent.postMessage({type:"awsSendBg",message:e},"*")}function ut(){if(je){for(var e=0,t=je.length;e<t;e++){var n=je[e];n.element.style.cssText=n.cssText}je=[]}}function mt(){De.x=!1,Ie.scrollNode?De.y=Ie.scrollNode.scrollHeight+Ie.scrollNode.offsetTop>window.innerHeight:De.y=document.scrollingElement.scrollHeight>window.innerHeight}function gt(e){var t=Ie.getScrollPart().frame;t&&t.contentWindow.postMessage(e,"*")}function bt(e){if(!e)return window.pageYOffset;var t=e.scrollTop,n=document.scrollingElement?document.scrollingElement.scrollTop:document.defaultView.pageYOffset;return n>t?n:t}function ft(){if(Ze)gt({type:"scrollNext"});else{M.popAllFixed(),M.popAllAbs();var t=Ie?Ie.scrollNode:document.scrollingElement,n=Math.ceil(bt(t)),o=Math.ceil(t.scrollLeft);t.scrollHeight;if(Xe){var i=ee.getCenterPosition(),a=i.left,r=i.top,s=i.width,l=i.height;if(s<=Oe&&l>qe){if(r+l==n+qe||r+l-1==n+qe||r+l<n+qe){var d={action:"entire_capture_done",counter:Ae,ratio:{x:0,y:l%qe/qe},scrollBar:{x:!1,y:!0,realX:window.innerHeight>document.documentElement.clientHeight},data:{x:a*window.devicePixelRatio,y:r*window.devicePixelRatio},centerW:s*window.devicePixelRatio,centerH:l*window.devicePixelRatio};return void(rt()?ht(d):e(d))}r+l<n+2*qe?dt(document.scrollingElement,r+l-qe):r+l>n+2*qe&&dt(document.scrollingElement,n+qe)}if(s>Oe&&l<=qe){if(a+s==o+Oe){d={action:"entire_capture_done",counter:Ae,ratio:{x:s%Oe/Oe,y:0},scrollBar:{x:!0,y:!1,realY:window.innerWidth>document.documentElement.clientWidth},centerW:s*window.devicePixelRatio,centerH:l*window.devicePixelRatio};return void(rt()?ht(d):e(d))}a+s<o+2*Oe?document.scrollingElement.scrollLeft=a+s-Oe:a+s>o+2*Oe&&(document.scrollingElement.scrollLeft=o+Oe)}if(s>Oe&&l>qe){if(r+l==n+qe){if(a+s==o+Oe){d={action:"entire_capture_done",counter:Ae,ratio:{x:s%Oe/Oe,y:l%qe/qe},scrollBar:{x:!0,y:!0},centerW:s*window.devicePixelRatio,centerH:l*window.devicePixelRatio};return void(rt()?ht(d):e(d))}return a+s<o+2*Oe?document.scrollingElement.scrollLeft=a+s-Oe:a+s>o+2*Oe&&(document.scrollingElement.scrollLeft=o+Oe),Ae++,document.scrollingElement.scrollTop=r,void setTimeout(e,300,{action:"scroll_next_done"})}r+l<n+2*qe?document.scrollingElement.scrollTop=r+l-qe:r+l>n+2*qe&&(document.scrollingElement.scrollTop=n+qe)}}else{qe=Ie?Ie.scrollClientHeight:qe;var c=Math.round(bt(t)/(t.scrollHeight+t.offsetTop-qe)*100)+"%";if(rt()?ht({action:"entireCaptureProgress",percentage:c,scrollNum:Ue}):e({action:"entireCaptureProgress",percentage:c,scrollNum:Ue}),t!==document.body?dt(t,n+qe):(dt(t,n+qe),dt(window,n+qe)),Ue++,Math.ceil(bt(t))==n||Ge||tt&&Math.ceil(bt(t))-n<qe||n<qe&&n>0&&Math.ceil(bt(t))-n<2){o=t.scrollLeft;t.scrollLeft=o+Oe,!De.x||t.scrollLeft;var p={};return p.y=(n+Math.abs(et))%qe/qe,0==p.y&&(p.y=1),p.x=o%Oe/Oe,dt(t,Ne,Be),M.popAll(),rt()?ht({action:"entire_capture_done",counter:Ge?Ae-1:Ae,ratio:Ge?{x:1,y:1}:p,scrollBar:De}):e({action:"entire_capture_done",counter:Ge?Ae-1:Ae,ratio:Ge?{x:1,y:1}:p,scrollBar:De}),Ue=0,void(Ge=!1)}}setTimeout((function(){!Xe&&nt>0&&(nt--,t!==document.body?dt(t,n+qe):(dt(t,n+qe),dt(window,n+qe)));var o=!1;t.scrollHeight-Math.ceil(bt(t))>window.innerHeight&&Ie&&Ie.scrollPart&&M.dealBottomAbsoltesInner(!1,Ie.contentClip),t.scrollHeight-Math.ceil(bt(t))<=window.innerHeight&&(o=!0),M.updateFixed(t,!1,Ie?Ie.dimensions.nonadjustedFullHeight:t.scrollHeight,window.innerWidth,o),setTimeout((function(){t.scrollHeight;var i=0,a=Ie?Ie.getDimensions():null;if(Ie&&a&&(i=/ourmortgageoptions.com.au/.test(window.location.host)?Math.ceil(a.docEltMaxHeight-Ie.dimensions.docEltMaxHeight):Math.ceil(a.nonadjustedFullHeight-Ie.dimensions.nonadjustedFullHeight)),(!Je&&i>0||function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}()&&/instagram.com/.test(window.location.host))&&(Qe=!0),!Qe&&(i<0||Je&&i>=0&&!/blog.csdn.net/.test(window.location.host))){a&&(Ie.dimensions=a);var r=function(e){if(/7mkr.com/.test(window.location.host)){if(e<=0)return-1;if(e>0)return 1}if(e+200<0)return-1;return e}(i);Je=!0,et+=r,dt(t,n+qe+r),rt()?ht({action:"scroll_next_done"}):(M.updateFixed(t,!1,Ie?Ie.dimensions.nonadjustedFullHeight:t.scrollHeight,window.innerWidth,o),setTimeout(e,100+wt(),{action:"scroll_next_done"}))}else rt()?ht({action:"scroll_next_done"}):setTimeout(e,wt(),{action:"scroll_next_done"});tt=Math.ceil(bt(t))-n<.7*qe}),80+wt())}),100)}}function wt(){return/84paris.com/.test(window.location.host)?1200:/createsend.com/.test(window.location.host)?200:/7mkr.com/.test(window.location.host)?800:/jus.br/.test(window.location.host)?50:0}function vt(t){switch(String.fromCharCode(t.which)){case ot.visible.key:1==ot.visible.enable&&t.shiftKey&&t.ctrlKey&&e({action:"visible",actionFrom:"shortCut"});break;case ot.selected.key:1==ot.selected.enable&&t.shiftKey&&t.ctrlKey&&e({action:"selected",actionFrom:"shortCut"});break;case ot.entire.key:1==ot.entire.enable&&t.shiftKey&&t.ctrlKey&&e({action:"entire",actionFrom:"shortCut"})}}rt()||(e({action:"getRecordStyle"}),e({action:"canScroll",canSroll:at()})),window.addEventListener("beforeunload",(function(t){rt()||e({action:"pageReload"})})),rt()&&document.body&&!/www.mona.gallery/.test(window.location.host)&&document.body.addEventListener("keydown",(function(e){var t={which:e.which,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey};window.parent.postMessage({type:"shortCuts",message:t},"*")}),!1),chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"tabCanScroll":e({action:"canScroll",canSroll:at()});break;case"update_shortcuts":!function(e){var t=document.body;if(t.removeEventListener("keydown",vt,!1),t.addEventListener("keydown",vt,!1),e.msObj){var n=e.msObj;for(var o in n=JSON.parse(n))ot[o].enable=n[o].enable,ot[o].key=n[o].key}}(t);break;case"init_entire_capture":ee.updateAutoOnline(t.autoOnline),ct();break;case"init_selected_capture":ee.updateAutoOnline(t.autoOnline),function(){Xe=!0,Ae=1;var e=document.getElementById("searchbar");if(null!==e&&e.classList.contains("searchbar")){e.style.display="none",document.body.id=""}s.add("addStyle",{id:"aws-entire-capture",css:"html::-webkit-scrollbar,body::-webkit-scrollbar, body::-webkit-scrollbar:horizontal, body::-webkit-scrollbar:vertical{width: 0 !important; height: 0 !important}"}),qe=lt(),Oe=window.document.documentElement.clientWidth,document.scrollingElement?(document.scrollingElement.scrollHeight,document.scrollingElement.scrollWidth):(window.innerHeight,window.innerWidth),ne(!1)}();break;case"scroll_next":ft();break;case"destroy_selected":ut(),r(),We(),Ve=!1,0;break;case"restorebar":if(!ee.getIframeSatus()){a(Ye),ut(),r(),M.popAll(),M.popAllFixed();var i=document.getElementById("searchbar");null!=i&&(i.style.display="block",document.body.id="searchbarshow"),Ve=!1,0}Ze&&(gt({type:"restorebar"}),Ze=!1,Ke=!1);break;case"stop-entire-capture":Ge=!0,Ze&&gt({type:"stopEntireCapture"});break;case"delay-capture":null!==it&&(clearInterval(it),it=null,$("#awe_delay_div").remove());var l=$('<div id="awe_delay_div"><span></span><div id="awe_delay_cancel">Cancel</div></div>').appendTo("body").find("span").text(t.sec).end();l.find("#awe_delay_cancel").on("click",(function(){clearInterval(it),it=null,l.remove()})),$.Draggable(l[0],{});var d=t.sec?t.sec-1:2;it=setInterval((function(){if(d<=0)return clearInterval(it),it=null,l.remove(),void setTimeout((function(){e({action:"visible"})}),100);$("#awe_delay_div").find("span").text(d),d--}),1e3);break;case"copytoclipboard":!function(e){if(e){var t=document.createElement("img"),n=document.createElement("canvas"),o=n.getContext("2d");t.onload=function(){n.width=t.width,n.height=t.height,o.drawImage(t,0,0),n.toBlob((function(e){u(e)}))},t.src=e}}(t.obj);break;case"persionType":ee.updateType(t.persionType);break;case"userStatus":ee.updateStatus(t.userStatus);break;case"canCapture":ee.captureSelectAction(t.isCopy,t.isUserAction);break;case"imgeLimit":ee.showUpgrade();break;case"recordStyle":K.updateStyle(t.recordStyle);break;case"dataURL":var c=t.cw,p=t.ch,h=t.ct,g=t.cl,b=(t.userAction,t.incognito);if(ee.getIframeSatus()||ee.getSetupStatus()&&0==c)return;if(m())return;var f=h/window.devicePixelRatio,w=g/window.devicePixelRatio,v=c/window.devicePixelRatio,x=p/window.devicePixelRatio,_=document.createElement("canvas");if(!_.style)return void alert("Extension cannot run on this page because it contains XML files.");var y,k=_.getContext("2d"),C=document.createElement("img");if(null!=t.dataURL&&0!=c)C.onload=function(){y=this.width/window.innerWidth,_.width=v*y,_.height=x*y,k.drawImage(C,w*y,f*y,v*y,x*y,0,0,v*y,x*y);var e=_.toDataURL();ee.holdTemImage(e)},C.src=t.dataURL;else{ee.updateAutoOnline(t.autoOnline);var S=!1;document.scrollingElement.scrollHeight>window.innerHeight&&(S=!0);var E=window.innerWidth-(S?st():0),H=window.innerHeight;f=0,w=0,v=window.innerWidth-(Ve?st():0),x=window.innerHeight,C.onload=function(){y=this.width/window.innerWidth,E*=y,H*=y,_.width=E,_.height=H,k.drawImage(C,0,0,E,H,0,0,E,H);var e=_.toDataURL();ee.holdTemImage(e)},C.src=t.dataURL,ne(!0)}var T=parseInt(Date.now())+"";ee.updateIframeMask(T);var z=document.createAttribute("id"),P=document.createElement("iframe");z.nodeValue="screenshot_iframe",P.setAttributeNode(z);var R="";visualViewport.scale>1&&(R="&scale="+visualViewport.scale+"&pageLeft="+visualViewport.offsetLeft+"&pageTop="+visualViewport.offsetTop),P.src=chrome.extension.getURL("")+"annotate-react.html?ct="+f+"&cl="+w+"&cw="+v+"&ch="+x+"&incognito="+b+"&mark="+T+"&actionType="+t.actionType+"&format="+t.format+R,document.documentElement.appendChild(P),$(P).css("cssText","top:0px;left:0px;border:none;position:fixed;z-index:2147483620;width:"+window.innerWidth+"px!important;height:"+window.innerHeight+"px!important;background-color:transparent !important;color-scheme:auto"),Ve=!1,0}})),window.addEventListener("message",(function(t){if(t.data){var n=t.data.type;if("initCaptureFrame"==n)ct(t.data.parentPage);else if("scrollNext"===n)ft();else if("stopEntireCapture"===n)Ge=!0;else if("restorebar"===n)!function(){a(Ye),ut(),r(),M.popAll(),M.popAllFixed(),Ie=null,Ze=!1,Ze=!1;var e=document.getElementById("searchbar");null!=e&&(e.style.display="block",document.body.id="searchbarshow");Ve=!1,0}();else if("awsSendBg"===n){(o=t.data.message)&&e(o)}else if("checkFrameStatus"===n)window.parent.postMessage({type:"frameReponse"},"*");else if("frameReponse"===n)Ke=!0,Ze=!0;else if("shortCuts"===n){var o;(o=t.data.message)&&vt(o)}}}));const xt=".frame-container {\n  position: fixed !important;\n  bottom: 10px;\n  right: 10px;\n  width: 320px;\n  height: 180px;\n  z-index: 9999999;\n}\n.frame-container:hover .action {\n  display: block;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n}\n.frame-container:hover .size-ctl {\n  display: flex;\n}\n.frame-container .size-ctl {\n  display: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 12px;\n  justify-content: center;\n  align-items: baseline;\n}\n.frame-container .size-ctl .resize-btn {\n  background-color: transparent;\n  border: 2px solid white;\n  cursor: pointer;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n.frame-container .size-ctl .resize-btn.ative {\n  background-color: #5794FF;\n}\n.frame-container .size-ctl .small {\n  width: 19px;\n  height: 11px;\n}\n.frame-container .size-ctl .middle {\n  width: 26px;\n  height: 15px;\n}\n.frame-container .size-ctl .big {\n  width: 39px;\n  height: 22px;\n}\n.frame-container .action {\n  display: none;\n  position: absolute;\n  height: 40px;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n}\n.frame-container .action-item {\n  height: 30px;\n  width: 30px;\n  float: right;\n  color: white;\n  font-size: 30px;\n  cursor: pointer;\n}\n.frame-container .action-item.close {\n  transform: rotate(45deg);\n  position: relative;\n  top: 5px;\n  right: 7px;\n  text-align: center;\n  line-height: 30px;\n}\n.frame-container iframe {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  border-radius: 8px;\n}\n";const _t='<div class="frame-container"><div class="action"><div class="action-item close">+</div></div><div class="size-ctl"><div class="small resize-btn" data-type="small"></div><div class="middle resize-btn" data-type="middle"></div><div class="big resize-btn" data-type="big"></div></div></div>';var yt,kt=null,Ct=null,St=0;function Et(e){var t=parseInt(Ct.css("top")),n=parseInt(Ct.css("left"));0==St&&(St=1280/720);var o=".resize-btn",i=320;"small"===e?(i=190,o+=".small"):"big"===e?(i=400,o+=".big"):o+=".middle";var a=i/St;if(Ct.css("width",i+"px"),Ct.css("height",a+"px"),!isNaN(t)&&!isNaN(n)){var r=window.innerWidth,s=window.innerHeight;if(yt){var l=yt.x*window.innerWidth;s=yt.y*window.innerHeight+yt.h*window.innerHeight,r=l+yt.w*window.innerWidth}t+a>s-10&&(t=s-a-10,Ct.css("top",t+"px")),n+i>r-10&&(n=r-i-10,Ct.css("left",n+"px"))}Ct.find(".resize-btn").removeClass("ative"),Ct.find(o).addClass("ative")}function Ht(e){if("cameraDimension"===e.data.action){var t=e.data.ratio;St=t,yt?(Et("small"),function(e){if(yt){var t=yt.x*window.innerWidth,n=yt.y*window.innerHeight,o=yt.h*window.innerHeight,i=yt.w*window.innerWidth,a=window.innerHeight-n-o+6,r=window.innerWidth-t-i+6;Ct.css("bottom",a+"px"),Ct.css("right",r+"px")}}()):Et("middle")}}chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-camera":var i=t.crop;yt=i?t.crop:null,function(){if(document.querySelector("#aws-container"))return void e({action:"reload-camera"});if((kt=document.createElement("div")).id="aws-container",!kt.style)return;var t=kt.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=xt,t.appendChild(n);var o=document.createElement("style");o.innerHTML=".ui-resizable { position: relative; } .ui-resizable-handle { position: absolute; font-size: 0.1px; display: block; -ms-touch-action: none; touch-action: none; } .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; } .ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0; } .ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0; } .ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0; height: 100%; } .ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0; height: 100%; } .ui-resizable-se { cursor: nwse-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; } .ui-resizable-sw { cursor: nesw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; } .ui-resizable-nw { cursor: nwse-resize; width: 9px; height: 9px; left: -5px; top: -5px; } .ui-resizable-ne { cursor: nesw-resize; width: 9px; height: 9px; right: -5px; top: -5px; }",t.appendChild(o);var i=$(_t);Ct=i;var a=i.find(".action");a.find(".close").on("click",(function(){document.documentElement.removeChild(kt),e({action:"close-camera",manually:!0})})),i.find(".resize-btn").on("click",(function(){Et($(this).attr("data-type"))})),a.appendTo(i);var r=document.createElement("iframe");r.src=chrome.runtime.getURL("/camera.html"),$.Draggable(i[0],{container:document}),i.resizable({handles:"ne,se,sw,nw",aspectRatio:!0}),window.addEventListener("message",Ht),i.append(r),i.appendTo(t),document.documentElement.appendChild(kt)}();break;case"stop-camera":kt.parentNode&&(document.documentElement.removeChild(kt),window.removeEventListener("message",Ht));break;case"insertRecordDiv":$("<div id='aws-record-div'></div>").appendTo(document.body);break;case"removeRecordDiv":$("#aws-record-div").remove()}}));const Mt=".countdown-wrapper {\n  font-family: Arial;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 2147483647;\n}\n.countdown-wrapper .center {\n  width: 300px;\n  height: 220px;\n  font-size: 1px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 232px;\n  margin: auto;\n  color: white;\n  text-align: center;\n}\n.countdown-wrapper .sec {\n  line-height: 120px;\n  font-size: 100px;\n}\n.countdown-wrapper .tip {\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n.countdown-wrapper .cancel-btn {\n  font-size: 12px;\n  padding: 4px 10px;\n  border: 1px solid white;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 30px;\n  display: inline-block;\n  line-height: 14px;\n  opacity: 0.6;\n}\n.countdown-wrapper .cancel-btn:hover {\n  opacity: 1;\n}\n";const Tt='<div class="countdown-wrapper"><div class="center"><div class="tip">Recording will start in</div><div class="sec"></div></div></div>';var zt=null;function Pt(){$("#aws-countdown").remove()}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.action){case"startCountDown":!function(e){if(document.querySelector("#aws-countdown"))return;var t=document.createElement("div");if(t.id="aws-countdown",!t.style)return;var n=t.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=Mt,n.appendChild(o);var i=$(Tt),a=i.find(".sec"),r=e;a.text(r),r--,zt=setInterval((function(){if(0===r)return clearInterval(zt),zt=null,void Pt();a.text(r),r--}),1e3),i.appendTo(n),document.documentElement.appendChild(t)}(e.countdown);break;case"stop-countdown":clearInterval(zt),zt=null,Pt()}}));n(807);const Rt='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n.dropdown-text-btn {\n  padding: 7px 10px;\n  line-height: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dropdown-text-btn .dropdown-arrow {\n  margin-left: 5px;\n  font-size: 8px;\n  top: -1px;\n}\n.dropdown-text-btn.ant-dropdown-open {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn.ant-dropdown-open:hover {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn:hover {\n  background-color: var(--as-dropdown-btn-bg-color);\n}\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.container {\n  font-size: 12px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  z-index: 2147483641;\n}\n.container * {\n  box-sizing: border-box;\n}\n.toolbar {\n  position: fixed;\n  left: 12px;\n  bottom: 12px;\n  display: flex;\n  background: #484E59;\n  color: white;\n  z-index: 2147483643;\n  pointer-events: all;\n  border-radius: 8px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);\n}\n.toolbar .toolbar-action-btn,\n.toolbar .collapse-btn,\n.toolbar .expand-btn,\n.toolbar .toolbar-item,\n.toolbar .action-item:not(.stop) .device-item,\n.toolbar .sub-menu-item {\n  position: relative;\n}\n.toolbar .toolbar-action-btn:hover::after,\n.toolbar .collapse-btn:hover::after,\n.toolbar .expand-btn:hover::after,\n.toolbar .toolbar-item:hover::after,\n.toolbar .action-item:not(.stop) .device-item:hover::after,\n.toolbar .sub-menu-item:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn[data-tooltip-placement="left"]::after,\n.toolbar .collapse-btn[data-tooltip-placement="left"]::after,\n.toolbar .expand-btn[data-tooltip-placement="left"]::after,\n.toolbar .toolbar-item[data-tooltip-placement="left"]::after,\n.toolbar .action-item:not(.stop) .device-item[data-tooltip-placement="left"]::after,\n.toolbar .sub-menu-item[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.toolbar .toolbar-action-btn::after,\n.toolbar .collapse-btn::after,\n.toolbar .expand-btn::after,\n.toolbar .toolbar-item::after,\n.toolbar .action-item:not(.stop) .device-item::after,\n.toolbar .sub-menu-item::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar.discard .discard-view {\n  display: flex !important;\n}\n.toolbar.discard .discarded {\n  display: none !important;\n}\n.toolbar.discard .bar-area::after {\n  display: none !important;\n}\n.toolbar.discard .bar-area::before {\n  display: none !important;\n}\n.toolbar.collapsed .expand-able {\n  display: none !important;\n}\n.toolbar.collapsed .device-soure::after {\n  border-color: transparent !important;\n}\n.toolbar.collapsed .device-soure select {\n  display: none !important;\n}\n.toolbar.collapsed .device-soure.mic {\n  margin-right: 6px;\n}\n.toolbar.collapsed .record-actions .action-item.stop {\n  width: auto !important;\n  min-width: 42px !important;\n  background-color: transparent !important;\n}\n.toolbar.collapsed .collapse-btn {\n  display: none;\n}\n.toolbar.collapsed .expand-btn {\n  display: block;\n}\n.toolbar .bar-area {\n  display: flex;\n  height: 50px;\n  position: relative;\n}\n.toolbar .bar-area .close-action {\n  background-color: white;\n  border-radius: 50%;\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  z-index: 8;\n  bottom: 40px;\n  right: -8px;\n  display: none;\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n.toolbar .bar-area .close-action:hover {\n  background-color: #d8d8d8;\n}\n.toolbar .bar-area .close-action .svg-icon {\n  margin: 3px;\n  width: 14px;\n  height: 14px;\n}\n.toolbar .bar-area .prepare-view {\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: all;\n  border-radius: 8px;\n}\n.toolbar .bar-area.prepare {\n  opacity: 0.4;\n}\n.toolbar .bar-area:hover::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 2px;\n  height: 14px;\n  border-width: 0px;\n  border-radius: 2px;\n  background-color: #8A8F99;\n  left: 4px;\n  top: 18px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .bar-area:hover::before {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 2px;\n  height: 14px;\n  border-width: 0px;\n  border-radius: 2px;\n  background-color: #8A8F99;\n  left: 8px;\n  top: 18px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .bar-area .discard-view {\n  display: none;\n  height: 30px;\n  margin-top: 10px;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.toolbar .bar-area .discard-view .action-item {\n  height: 30px;\n  cursor: pointer;\n  padding-left: 10px;\n  padding-right: 10px;\n  font-size: 16px;\n  line-height: 30px;\n}\n.toolbar .bar-area .discard-view .action-item.cancel {\n  margin-left: 12px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .discard-view .action-item.cancel:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .discard-view .action-item.cancel::after {\n  display: none;\n}\n.toolbar .bar-area .discard-view .action-item.discard {\n  display: flex;\n  width: auto;\n  color: white;\n  cursor: pointer;\n  background-color: #EE7975;\n  border-radius: 8px;\n  line-height: 30px;\n  user-select: none;\n}\n.toolbar .bar-area .discard-view .action-item.discard .svg-icon {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n.toolbar .bar-area .discard-view .action-item.discard:after {\n  display: none;\n}\n.toolbar .bar-area .actions {\n  display: flex;\n  height: 50px;\n  margin-top: 0px;\n  position: relative;\n}\n.toolbar .bar-area .actions .time {\n  line-height: 50px;\n  margin-left: 6px;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n  min-width: 50px;\n  padding-left: 8px;\n  user-select: none;\n  cursor: move;\n}\n.toolbar .bar-area .actions .action-item {\n  width: auto;\n  height: 30px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  margin-top: 10px;\n  cursor: pointer;\n}\n.toolbar .bar-area .actions .action-item.discard {\n  margin-left: 6px;\n  border-radius: 8px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.toolbar .bar-area .actions .action-item.discard:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .actions .action-item.drag {\n  margin-left: 0px;\n  margin-right: 0px;\n  padding-left: 0px;\n  padding-right: 0px;\n  width: 10px;\n  left: 0px;\n  position: absolute;\n}\n.toolbar .bar-area .actions .action-item.drag .svg-icon {\n  width: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n}\n.toolbar .bar-area .actions .action-item.play {\n  background-color: #5794FF;\n  width: 40px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .actions .action-item.play .svg-icon {\n  filter: invert(100%) sepia(100%) saturate(123%) hue-rotate(176deg) brightness(103%) contrast(105%);\n}\n.toolbar .bar-area .actions .action-item.pause {\n  background-color: #5794FF;\n  border-radius: 8px;\n}\n.toolbar .bar-area .actions .action-item.pause .svg-icon {\n  filter: invert(100%) sepia(100%) saturate(123%) hue-rotate(176deg) brightness(103%) contrast(105%);\n}\n.toolbar .bar-area .actions .action-item.stop {\n  display: flex;\n  width: 74px;\n  padding-right: 6px;\n  background-color: #EE7975;\n  border-radius: 8px;\n  font-weight: 600;\n  user-select: none;\n}\n.toolbar .bar-area .actions .record-actions {\n  display: flex;\n  margin: 0 6px;\n  line-height: 30px;\n}\n.toolbar .bar-area .actions .record-actions .paused {\n  display: none;\n}\n.toolbar .bar-area .svg-icon {\n  width: 20px;\n  height: 20px;\n  margin: 5px;\n}\n.toolbar .bar-area .svg-icon.white {\n  filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(122deg) brightness(109%) contrast(101%);\n}\n.toolbar .bar-area .svg-icon.red {\n  filter: invert(77%) sepia(38%) saturate(1085%) hue-rotate(304deg) brightness(89%) contrast(111%);\n}\n.toolbar .bar-area .svg-icon.drag {\n  filter: invert(59%) sepia(2%) saturate(2485%) hue-rotate(185deg) brightness(100%) contrast(65%);\n}\n.toolbar .bar-area .svg-icon.stop {\n  filter: invert(100%) sepia(100%) saturate(2%) hue-rotate(307deg) brightness(103%) contrast(101%);\n}\n.toolbar .bar-area .devices {\n  display: flex;\n  height: 50px;\n  margin-top: 0px;\n}\n.toolbar .bar-area .devices .device-soure {\n  display: flex;\n  position: relative;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.toolbar .bar-area .devices .device-soure.hidde-select select {\n  display: none !important;\n}\n.toolbar .bar-area .devices .device-soure.hidde-select::after {\n  border-color: transparent !important;\n}\n.toolbar .bar-area .devices .device-soure .device-item {\n  width: 30px;\n  height: 30px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.toolbar .bar-area .devices .device-soure .device-item:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading {\n  display: inline-block;\n  border: 3px solid #f3f3f3;\n  border-top: 3px solid #a3a3a3;\n  background-image: none !important;\n  width: 16px !important;\n  height: 16px !important;\n  margin-top: 7px;\n  margin-left: 7px;\n  margin-right: 7px;\n  border-radius: 20px;\n  animation: loading-animation 0.8s infinite linear;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading .svg-icon {\n  display: none;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading::after {\n  display: none;\n}\n.toolbar .bar-area .devices .device-soure select {\n  user-select: none;\n  display: inline-block;\n  width: 6px;\n  padding-right: 14px;\n  direction: ltr;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  outline: none;\n  border: none;\n  background: transparent;\n  line-height: 20px;\n  padding-left: 0;\n  border-radius: 0;\n  color: #6e6e6e;\n  font-size: 12px;\n  height: 30px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .devices .device-soure select:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .devices .device-soure:hover::after {\n  border-color: #888a8f transparent transparent transparent;\n}\n.toolbar .bar-area .devices .device-soure::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-width: 5px 3px;\n  border-style: solid;\n  border-color: #A3A6AC transparent transparent transparent;\n  right: 4px;\n  top: 14px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .svg-icon {\n  width: 20px;\n  height: 20px;\n}\n.toolbar .svg-icon svg {\n  color: #47d892;\n}\n.toolbar .svg-icon.disable {\n  filter: invert(82%) sepia(64%) saturate(3001%) hue-rotate(317deg) brightness(108%) contrast(90%);\n}\n.toolbar:hover {\n  opacity: 1;\n}\n.toolbar.sub-menu {\n  border-radius: 8px;\n}\n.toolbar.paused .sub-menu.mouse {\n  left: 60%;\n}\n.toolbar.paused .sub-menu.draw {\n  left: 62%;\n}\n.toolbar.paused .sub-menu.remove {\n  left: 82%;\n}\n.toolbar .sub-menu {\n  height: 40px;\n  min-width: 142px;\n  border-radius: 8px;\n  background-color: #484E59;\n  position: absolute;\n  justify-content: left;\n  left: 0;\n  top: -46px;\n  display: none;\n  padding: 0 6px;\n}\n.toolbar .sub-menu.mouse {\n  left: 45%;\n}\n.toolbar .sub-menu.draw {\n  left: 48%;\n}\n.toolbar .sub-menu.remove {\n  left: 75%;\n  min-width: 78px;\n}\n.toolbar .sub-menu .color-picker {\n  display: flex;\n  width: 60px;\n  margin: 12px 0 0 8px;\n  justify-content: space-between;\n}\n.toolbar .sub-menu .color-picker .color-item {\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.toolbar .sub-menu .color-picker .color-item.active {\n  border: 2px solid white;\n}\n.toolbar .sub-menu .color-picker .color-item.blue {\n  background-color: #5794ff;\n}\n.toolbar .sub-menu .color-picker .color-item.red {\n  background-color: #ff0000;\n}\n.toolbar .sub-menu .color-picker .color-item.green {\n  background-color: #47d892;\n}\n.toolbar .sub-menu .sub-menu-item {\n  height: 28px;\n  width: 28px;\n  border-radius: 8px;\n  margin: 6px 6px 0 0;\n  cursor: pointer;\n}\n.toolbar .sub-menu .sub-menu-item:hover {\n  background-color: #00000033;\n}\n.toolbar .sub-menu .sub-menu-item:last-child {\n  margin-right: 0px;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-default b {\n  background-position: -126px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-background b {\n  background-position: -144px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-click b {\n  background-position: -162px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-focus b {\n  background-position: -180px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-freeline b {\n  background-position: -198px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-rect b {\n  background-position: -216px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-arrow b {\n  background-position: -234px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-single b {\n  background-position: -252px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-all b {\n  background-position: -270px 0;\n}\n.toolbar .sub-menu .sub-menu-item b {\n  height: 18px;\n  width: 18px;\n  margin: 5px 0 0 5px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .sub-menu .sub-menu-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .sub-menu .sub-menu-item.active {\n  background-color: #00000033;\n}\n.toolbar .sub-menu .sub-menu-item.active:hover {\n  background-color: #00000033;\n}\n.toolbar .sep {\n  width: 1px;\n  height: 20px;\n  background: #FFFFFF33;\n  margin-top: 15px;\n}\n.toolbar .more-action {\n  margin-right: 8px;\n  display: none;\n}\n.toolbar .toolbar-action-btn {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n  position: relative;\n}\n.toolbar .toolbar-action-btn b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .toolbar-action-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .toolbar-action-btn:hover {\n  background-color: #272934;\n}\n.toolbar .toolbar-action-btn:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn.pause {\n  margin-right: 8px;\n}\n.toolbar .toolbar-action-btn.pause b {\n  background-position: -54px 0;\n}\n.toolbar .toolbar-action-btn.resume b {\n  background-position: -72px 0;\n}\n.toolbar .toolbar-action-btn.discard b {\n  background-position: -90px 0;\n}\n.toolbar .toolbar-action-btn.stop b {\n  background-position: -108px 0;\n}\n@keyframes loading-animation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.annotation-tools {\n  display: flex;\n}\n.annotation-tools.disabled {\n  position: relative;\n}\n.annotation-tools.disabled:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.annotation-tools.disabled[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.annotation-tools.disabled::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar-item {\n  height: 30px;\n  width: 30px;\n  margin-top: 10px;\n  margin-right: 6px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.toolbar-item.disabled {\n  pointer-events: none;\n}\n.toolbar-item.disabled b {\n  opacity: 0.6;\n}\n.toolbar-item:nth-child(1) {\n  margin-left: 8px;\n}\n.toolbar-item b {\n  height: 18px;\n  width: 18px;\n  margin: 6px 0 0 6px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar-item.draw b {\n  background-position: -18px 0;\n}\n.toolbar-item.remove b {\n  background-position: -36px 0;\n}\n.toolbar-item.active {\n  background-color: #00000033;\n}\n.toolbar-item.active:after {\n  display: none;\n}\n.toolbar-item.active:hover {\n  background-color: #00000033;\n}\n.toolbar-item:hover {\n  background-color: #00000033;\n}\n.collapse-btn {\n  background-color: #484E59;\n  border-radius: 0 8px 8px 0;\n  cursor: pointer;\n}\n.collapse-btn::after {\n  display: none;\n}\n.collapse-btn .svg-icon {\n  margin-top: 15px !important;\n}\n.collapse-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  margin-left: 4px;\n  margin-top: 20px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .collapse-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.expand-btn {\n  display: none;\n  background-color: #484E59;\n  border-radius: 0 8px 8px 0;\n  cursor: pointer;\n}\n.expand-btn .svg-icon {\n  margin-top: 15px !important;\n  transform: rotate(180deg);\n}\n.expand-btn::after {\n  display: none;\n}\n.expand-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  transform: rotate(180deg);\n  margin-left: 5px;\n  margin-top: 20px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .expand-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.mouse-block {\n  height: 48px;\n  width: 48px;\n  border-radius: 50%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: transparent;\n}\n.mouse-block.bg {\n  background: rgba(237, 241, 6, 0.5);\n}\n.mouse-block .inner-block {\n  height: 100%;\n  width: 100%;\n  border: 2px solid red;\n  transform: scale(0);\n  transition: transform 350ms ease;\n  border-radius: 50%;\n  position: relative;\n  top: -2px;\n  left: -2px;\n  pointer-events: none;\n}\n.mouse-block.mouse-down .inner-block {\n  transform: scale(1);\n  transition: none;\n}\n#draw-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483642;\n}\n#draw-canvas.freeline {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_pen_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_pen_ic@2x.png") 2x) 3 22, auto;\n}\n#draw-canvas.rect {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_box_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_box_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.arrow {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic@2x.png") 2x) 11 11, auto;\n}\n#draw-canvas.do-remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic@2x.png") 2x) 11 11, auto;\n}\n#layer-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n';const $t='<div class="container"><div class="toolbar" id="toolbar"><div class="bar-area"><div class="prepare-view" id="prepare-view"></div><div class="actions">\x3c!-- <div class="action-item drag expand-able" aria-label="$i18n{drag_btn}" id="drag-menu">\n          <img class="svg-icon drag" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_drag.svg" />\n        </div> --\x3e<div class="time discarded" id="time">0:00</div><div class="record-actions discarded"><div class="action-item pause expand-able" data-action="pause" aria-label="$i18n{pause_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_pause.svg"></div><div class="paused expand-able"><div class="action-item play expand-able" data-action="resume" aria-label="$i18n{resume_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_play.svg"></div><div class="action-item stop expand-able" data-action="stop"><img class="svg-icon stop expand-able" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_stop.svg"><div>Stop</div></div><div class="action-item discard discarded expand-able" data-action="discard-view" aria-label="$i18n{discard_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_trash.svg"></div><div class="sep"></div></div></div></div><div class="discard-view"><div class="action-item discard" data-action="discard"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_trash.svg"><div>$i18n{discard_p_yes}</div></div><div class="action-item cancel" data-action="cancel" aria-label="">$i18n{capture_btn_cancel}</div></div><div class="devices discarded" id="devices"><div class="device-soure cam expand-able"><div class="device-item" data-action="camera" id="cam" aria-label="$i18n{off_cam_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_cam.svg"></div><div class="device-item nocam" data-action="camera" id="noCam" aria-label="$i18n{on_cam_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_no_cam.svg"></div><select id="cam-soure" data-source="cam" name="cam-soure"></select></div><div class="device-soure mic"><div class="device-item" data-action="audio" id="audio" aria-label="$i18n{off_mic_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_mic.svg"></div><div class="device-item" data-action="audio" id="mute" aria-label="$i18n{on_mic_btn}"><img class="svg-icon red" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_mute.svg"></div><select id="mic-soure" class="expand-able" data-source="mic" name="mic-soure"></select></div><div class="sep expand-able discarded free"></div></div><div class="annotation-tools expand-able discarded free" aria-label="" data-tooltip-placement="left"><div class="toolbar-item mouse active" data-mode="mouse" aria-label="$i18n{vtoolbar_mouse_effect_btn}" data-tooltip-placement="left"><b></b></div><div class="toolbar-item draw" data-mode="draw" aria-label="$i18n{vtoolbar_annotation_btn}"><b></b></div><div class="toolbar-item remove" data-mode="remove" aria-label="$i18n{vtoolbar_remove_btn}"><b></b></div></div><div class="close-action"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_close.svg"></div><div class="collapse-btn close-btn discarded" aria-label="$i18n{vtoolbar_collapse_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_arrow_left.svg"></div><div class="expand-btn close-btn discarded" aria-label="$i18n{vtoolbar_expand_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_arrow_left.svg"></div></div><div class="sub-menu mouse" data-menu="mouse"><div class="sub-menu-item mouse-default active" data-type="default" aria-label="$i18n{vtoolbar_mouse_default_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item mouse-background" data-type="background" aria-label="$i18n{vtoolbar_highlight_mouse_btn}"><b></b></div><div class="sub-menu-item mouse-click" data-type="click" aria-label="$i18n{vtoolbar_highlight_click_btn}"><b></b></div><div class="sub-menu-item mouse-focus" data-type="focus" aria-label="$i18n{vtoolbar_spotlight_btn}"><b></b></div></div><div class="sub-menu draw" data-menu="draw"><div class="sub-menu-item draw-freeline active" data-type="freeline" aria-label="$i18n{vtoolbar_freeline_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item draw-rect" data-type="rect" aria-label="$i18n{vtoolbar_rect_btn}"><b></b></div><div class="sub-menu-item draw-arrow" data-type="arrow" aria-label="$i18n{vtoolbar_arrow_btn}"><b></b></div><div class="color-picker"><div class="color-item red active" data-color="red"></div><div class="color-item blue" data-color="blue"></div><div class="color-item green" data-color="green"></div></div></div><div class="sub-menu remove" data-menu="remove"><div class="sub-menu-item remove-single active" data-type="remove-single" aria-label="$i18n{vtoolbar_remove_single_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item remove-all" data-type="remove-all" data-tooltip-placement="left" aria-label="$i18n{vtoolbar_remove_all_btn}"><b></b></div></div></div><div class="mouse-block"><div class="inner-block"></div></div><canvas id="draw-canvas"></canvas><canvas id="layer-canvas"></canvas></div>',Wt='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n.dropdown-text-btn {\n  padding: 7px 10px;\n  line-height: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dropdown-text-btn .dropdown-arrow {\n  margin-left: 5px;\n  font-size: 8px;\n  top: -1px;\n}\n.dropdown-text-btn.ant-dropdown-open {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn.ant-dropdown-open:hover {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn:hover {\n  background-color: var(--as-dropdown-btn-bg-color);\n}\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n#select_wrapper {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2147483620;\n  /* MAX:2147483647 */\n  cursor: crosshair;\n  background-color: rgba(0, 0, 0, 0.3);\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  box-sizing: content-box !important;\n}\n#select_wrapper > div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: auto;\n}\n#select_top {\n  top: 0;\n  left: 0;\n}\n#select_right {\n  top: 0;\n  right: 0;\n}\n#select_bottom {\n  right: 0;\n  bottom: 0;\n}\n#select_left {\n  bottom: 0;\n  left: 0;\n}\ndiv#select_center {\n  cursor: move;\n  outline: 1.5px dashed #d5d5d5;\n  background-color: rgba(0, 0, 0, 0);\n}\n.dragresize {\n  display: block !important;\n  position: absolute !important;\n  z-index: 999 !important;\n  width: 9px !important;\n  height: 9px !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNqMUDEOgCAMrA58CFZX3uDIU/iBX3D0DawkTCS8xhBYao84aOLgJZdy10sLTMxMgDHGSVmFizAKj5zzPpoIaa037z2nlLjWOio0/DFEDg5Ga42fgL6DbsYKay0ppegJaPjjCpI8seIL8NHHpFhKoS/cfkToCCFQ7/0VgIaP/q/XTX/+6RJgAEc6j4dkIiynAAAAAElFTkSuQmCC);\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  font-size: 0.1px !important;\n}\n.dragresize-tl {\n  top: -5px;\n  left: -5px;\n  cursor: nw-resize;\n}\n.dragresize-tm {\n  top: -5px;\n  width: 100% !important;\n  cursor: n-resize;\n}\n.dragresize-tr {\n  top: -5px;\n  right: -5px;\n  cursor: ne-resize;\n}\n.dragresize-ml {\n  left: -5px;\n  height: 100% !important;\n  cursor: w-resize;\n}\n.dragresize-mr {\n  right: -5px;\n  height: 100% !important;\n  cursor: e-resize;\n}\n.dragresize-bl {\n  left: -5px;\n  bottom: -5px;\n  cursor: sw-resize;\n}\n.dragresize-bm {\n  bottom: -5px;\n  width: 100% !important;\n  cursor: s-resize;\n}\n.dragresize-br {\n  right: -5px;\n  bottom: -5px;\n  cursor: se-resize;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none !important;\n}\n.action-bar {\n  background-color: #484E59 !important;\n  border-radius: 8px;\n  height: 50px;\n  padding-left: 12px;\n  padding-right: 12px;\n  width: auto;\n  z-index: 1000;\n  display: none;\n}\n.action-bar .size-container {\n  display: flex;\n  justify-content: space-between;\n  width: 194px;\n  margin-right: 10px;\n}\n.action-bar span {\n  color: #8A8F99;\n  font-size: 16px;\n  line-height: 50px;\n  margin-right: 10px;\n}\n.action-bar .input-item {\n  display: flex;\n  background-color: #0000001A;\n  border-radius: 8px;\n  height: 30px;\n  width: 80px;\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-left: 6px;\n  box-sizing: content-box;\n  border: 2px solid transparent;\n}\n.action-bar .input-item.focus {\n  border: 2px solid #5794FF;\n}\n.action-bar .input-item .icon {\n  width: 16px;\n  height: 16px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .input-item input {\n  width: 44px;\n  height: 20px;\n  font-size: 16px;\n  color: white;\n  margin-top: auto;\n  margin-bottom: auto;\n  outline: none;\n  border: none;\n  background: none;\n  padding-left: 2px;\n  caret-color: #5794FF;\n}\n.action-bar .input-item .step-change {\n  width: 20px;\n  height: 30px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .input-item .step-change .step-plus {\n  width: 100%;\n  height: 50%;\n  display: flex;\n  position: relative;\n  border-top-right-radius: 8px;\n}\n.action-bar .input-item .step-change .step-plus:hover {\n  background-color: #FFFFFF1A;\n}\n.action-bar .input-item .step-change .step-plus:hover::after {\n  border-bottom-color: #FFFFFF !important;\n}\n.action-bar .input-item .step-change .step-plus::after {\n  content: "";\n  width: 0;\n  height: 0;\n  left: 5px;\n  bottom: 3px;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 6px 3px;\n  border-style: solid;\n  position: absolute;\n  border-bottom-color: #8A8F99;\n}\n.action-bar .input-item .step-change .step-minus {\n  width: 100%;\n  height: 50%;\n  display: flex;\n  position: relative;\n  border-bottom-right-radius: 8px;\n}\n.action-bar .input-item .step-change .step-minus:hover {\n  background-color: #FFFFFF1A;\n}\n.action-bar .input-item .step-change .step-minus:hover::after {\n  border-top-color: #FFFFFF !important;\n}\n.action-bar .input-item .step-change .step-minus::after {\n  content: "";\n  width: 0;\n  height: 0;\n  top: 3px;\n  left: 5px;\n  position: absolute;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 6px 3px;\n  border-style: solid;\n  border-top-color: #8A8F99;\n}\n.action-bar .record-btn {\n  margin-top: auto;\n  margin-bottom: auto;\n  height: 30px;\n  width: 92px;\n  border-radius: 8px;\n  background-color: #5794FF;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.action-bar .record-btn:hover {\n  opacity: 0.9;\n}\n.action-bar .record-btn .icon {\n  width: 14px;\n  height: 14px;\n  border-radius: 7px;\n  background-color: white;\n  margin-top: auto;\n  margin-bottom: auto;\n  position: relative;\n}\n.action-bar .record-btn .icon::after {\n  content: "";\n  width: 0;\n  height: 0;\n  top: 5px;\n  left: 5px;\n  position: absolute;\n  border-color: #5794FF;\n  border-width: 2px;\n  border-radius: 2px;\n  border-style: solid;\n}\n.action-bar .record-btn .tip {\n  line-height: 30px;\n  font-size: 16px;\n  font-weight: bold;\n  color: white;\n  margin-left: 6px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .cancel-btn {\n  margin-top: auto;\n  margin-bottom: auto;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n  cursor: pointer;\n  position: relative;\n  border-radius: 8px;\n}\n.action-bar .cancel-btn:hover {\n  background-color: #0000001A;\n}\n.action-bar .cancel-btn::after,\n.action-bar .cancel-btn::before {\n  content: "";\n  width: 2px;\n  height: 15px;\n  top: 8px;\n  left: 14px;\n  border-radius: 2px;\n  position: absolute;\n  background-color: white;\n}\n.action-bar .cancel-btn::before {\n  transform: rotate(45deg);\n}\n.action-bar .cancel-btn::after {\n  transform: rotate(-45deg);\n}\n';const Lt='<div id="select_wrapper"><div id="select_top"></div><div id="select_right"></div><div id="select_bottom"></div><div id="select_left"></div><div id="select_center" class="drsElement drsMoveHandle"></div><div class="action-bar" id="action-bar"><span>Size:</span><div class="size-container"><div class="input-item width"><div class="icon"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_width.svg"></div><input type="number" step="10" id="width_input"><div class="step-change"><div class="step-plus step" data-type="add_width"></div><div class="step-minus step" data-type="minus_width"></div></div></div><div class="input-item height"><div class="icon"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_height.svg"></div><input type="number" step="10" id="height_input"><div class="step-change"><div class="step-plus step" data-type="add_height"></div><div class="step-minus step" data-type="minus_height"></div></div></div></div><div class="record-btn" id="record"><div class="icon"></div><div class="tip">Record</div></div><div class="cancel-btn"></div></div></div>';var It,Ft,At,Nt,Bt,qt,Ot,Xt,Yt,Dt;function jt(e,t,n,o){if(!document.querySelector("#aws-record-select")&&(Bt=e,qt=t,Ot=n,Xt=o,(It=document.createElement("aws-record-select")).id="aws-record-select",It.style)){var i=It.attachShadow({mode:"open"}),a=document.createElement("style");a.innerHTML=Wt.replace(/@extension_path\//g,chrome.runtime.getURL("")),i.appendChild(a);var r=$(g(Lt).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")));r.appendTo(i),Ft=i.querySelector("#select_wrapper"),Nt=r.find("#action-bar"),on(),tn(Ft),Ft.style.backgroundColor="transparent",Ft.style.pointerEvents="none",document.body.appendChild(It),nn(Bt,qt,Ot,Xt),Qt(Bt,qt,Ot,Xt);var s=Ft.querySelector("#select_center");an(s,"outline","none"),an(s,"cursor","default")}}function Vt(){if(!document.querySelector("#aws-record-select")&&((It=document.createElement("aws-record-select")).id="aws-record-select",It.style)){var t=It.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=Wt.replace(/@extension_path\//g,chrome.runtime.getURL("")),t.appendChild(n);var o=$(g(Lt).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")));o.appendTo(t),Ft=t.querySelector("#select_wrapper"),Nt=o.find("#action-bar"),on(),tn(Ft),Ft.addEventListener("mousedown",en,!1),document.body.appendChild(It),Nt.find("#width_input").focus((function(e){Nt.find(".input-item.width").addClass("focus")})),Nt.find("#width_input").blur((function(e){Nt.find(".input-item.width").removeClass("focus");var t=Nt.find("#width_input")[0].value,n=parseInt(t);n&&!isNaN(n)||(n=Ot),Bt+n>window.innerWidth-20&&(n=window.innerWidth-20-Bt),n<50&&(n=50),Ut(n,Xt)})),Nt.find("#height_input").focus((function(e){Nt.find(".input-item.height").addClass("focus")})),Nt.find("#height_input").blur((function(e){Nt.find(".input-item.height").removeClass("focus");var t=Nt.find("#height_input")[0].value,n=parseInt(t);n&&!isNaN(n)||(n=Xt),qt+n>window.innerHeight-20&&(n=window.innerHeight-20-qt),n<50&&(n=50),Ut(Ot,n)})),Nt.find("#height_input").keyup((function(e){if(e&&13===e.keyCode){var t=Nt.find("#height_input")[0].value;Nt.find("#height_input")[0].blur();var n=parseInt(t);n&&!isNaN(n)||(n=Xt),n<50&&(n=50),qt+n>window.innerHeight-20&&(n=window.innerHeight-20-qt),Ut(Ot,n)}})),Nt.find("#width_input").keyup((function(e){if(e&&13===e.keyCode){var t=Nt.find("#width_input")[0].value;Nt.find("#width_input")[0].blur();var n=parseInt(t);n&&!isNaN(n)||(n=Ot),Bt+n>window.innerWidth-20&&(n=window.innerWidth-20-Bt),n<50&&(n=50),Ut(n,Xt)}})),Nt.find(".step").on("click",(function(){var e=$(this).attr("data-type"),t=Ot,n=Xt;"add_width"===e?(t++,Bt+t>window.innerWidth-20&&(t=window.innerWidth-20-Bt)):"minus_width"===e?--t<=50&&(t=50):"add_height"===e?(n++,qt+n>window.innerHeight-20&&(n=window.innerHeight-20-qt)):"minus_height"===e&&--n<=50&&(n=50),Ut(t,n)})),Nt.find(".cancel-btn").on("click",(function(){Gt()})),Nt.find("#record").on("click",(function(){try{At.deselect(t)}catch(e){}At.enabled=!1;var t=Ft.querySelector("#select_center");an(t,"outline","none"),an(t,"cursor","default"),Ft.style.pointerEvents="none",e({action:"recordSelect",data:{x:Bt/window.innerWidth,y:qt/window.innerHeight,w:Ot/window.innerWidth,h:Xt/window.innerHeight},ratio:window.innerHeight/window.innerWidth}),Zt()}))}}function Ut(e,t){nn(Bt,qt,e,t),Qt(Bt,qt,e,t),Jt(Bt,qt,e,t)}function Gt(){Ft&&Ft.parentNode&&(Ft.parentNode.removeChild(Ft),Ft=null),It&&It.parentNode&&(It.parentNode.removeChild(It),It=null),At&&(At=null)}function Kt(){Nt.css("display","flex")}function Zt(){Nt.hide()}function Jt(e,t,n,o){var i=n>=0?e:e+n,a=o>=0?t:t+o,r=Ft.querySelector("#action-bar"),s=a+Math.abs(o)+10;s>window.innerHeight-60&&(s=a-60)<0&&(s=window.innerHeight-60),an(r,"top",s+"px"),an(r,"left",i+"px"),r.querySelector("#width_input").value=Math.abs(n),r.querySelector("#height_input").value=Math.abs(o)}function Qt(e,t,n,o){var i=n>=0?e:e+n,a=o>=0?t:t+o,r=Ft.querySelector("#select_center");an(r,"width",Math.abs(n)+"px"),an(r,"height",Math.abs(o)+"px"),an(r,"top",a+"px"),an(r,"left",i+"px"),qt=a,Bt=i,Ot=Math.abs(n),Xt=Math.abs(o)}function en(e){if(0==e.button){var t,n,o=function(e){an(Ft,"background-color","rgba(0,0,0,0)"),n=e.x-i,t=e.y-a,nn(i,a,n,t),Qt(i,a,n,t),Jt(i,a,n,t)},i=e.x,a=e.y;a,Zt(),Ft.addEventListener("mousemove",o,!1),Ft.addEventListener("mouseup",(function e(t){if((t.x-i==0||t.y-a==0)&&0==Ft.querySelector("#select_center").clientWidth){an(Ft,"background-color","rgba(0,0,0,0)");var n=i-100;n<=0?n=0:n>window.innerWidth-200&&(n=window.innerWidth-200);var r=a-100;r<=0?r=0:r>window.innerHeight-200&&(r=window.innerHeight-200),nn(n,r,200,200),Qt(n,r,200,200),Jt(n,r,200,200)}var s;Ft.removeEventListener("mousedown",en,!1),Ft.removeEventListener("mousemove",o,!1),Ft.removeEventListener("mouseup",e,!1),Kt(),s=Ft.querySelector("#select_center"),(At=new DragResize("dragresize",{maxLeft:Dt,maxTop:Yt,minWidth:50,minHeight:50})).isElement=function(e){if(e.className&&e.className.indexOf("drsElement")>-1)return!0},At.isHandle=function(e){if(e.className&&e.className.indexOf("drsMoveHandle")>-1)return!0},At.ondragstart=function(){Zt()},At.ondragmove=function(e,t){var n=At.elmX,o=At.elmY,i=At.elmW,a=At.elmH;nn(n,o,i,a),Qt(n,o,i,a),Jt(n,o,i,a)},At.ondragend=function(){Kt()},At.apply(Ft),At.select(s)}),!1)}}function tn(e){an(e,"display","none");var t=window.innerWidth,n=window.innerHeight;an(e,"display","block"),e.querySelector("#height_input").max=n,e.querySelector("#width_input").max=t}function nn(e,t,n,o){var i=window.innerWidth,a=window.innerHeight,r=n>=0?e+n:e,s=o>=0?t:t+o,l=n>=0?i-e-n:i-e,d=o>=0?t+o:t,c=n>=0?i-e:i-e-n,p=a-d,h=i-c,u=a-s,m=Ft.querySelector("#select_top"),g=Ft.querySelector("#select_right"),b=Ft.querySelector("#select_bottom"),f=Ft.querySelector("#select_left");an(m,"width",r+"px"),an(m,"height",s+"px"),an(g,"width",l+"px"),an(g,"height",d+"px"),an(g,"left",r+"px"),an(b,"width",c+"px"),an(b,"height",p+"px"),an(b,"top",d+"px"),an(b,"left",h+"px"),an(f,"width",h+"px"),an(f,"height",u+"px"),an(f,"top",s+"px")}function on(){Yt=window.innerHeight,Dt=window.innerWidth}function an(e,t,n){e&&e.style.setProperty(t,n)}chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-toolbar":Fn=t.showAnn,An=t.isRecorded;var i=t.crop;if(i){var a=(cn=t.crop).x*window.innerWidth,r=cn.y*window.innerHeight,s=cn.h*window.innerHeight;jt(a,r,i.w*window.innerWidth,s)}t.audStatus&&(Nn=t.audStatus),t.camStatus&&(Bn=t.camStatus),function(t){if(document.querySelector("#aws-record-toolbar"))return;if((hn=document.createElement("aws-record-toolbar")).id="aws-record-toolbar",!hn.style)return;var n=hn.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=Rt.replace(/@extension_path\//g,chrome.runtime.getURL("")),n.appendChild(o),(un=$(g($t).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")))).appendTo(n);var i=null,a=null;mn=un.find(".toolbar"),t&&Fn||mn.find(".free").hide();An&&Qn();(function(){if(cn&&mn){var e=cn.x*window.innerWidth,t=cn.y*window.innerHeight,n=t+cn.h*window.innerHeight-window.innerHeight+72;n>0&&(n=t-window.innerHeight,Math.abs(n)>window.innerHeight-62&&(n=0)),mn.css("left",Math.abs(e)+"px"),mn.css("bottom",Math.abs(n)+"px")}})(),mn.find(".toolbar-item").on("mouseenter",(function(){i&&clearTimeout(i);var e=$(this).attr("data-mode");e===gn&&(a=setTimeout((function(){mn.find(".sub-menu").hide(),mn.find(".sub-menu[data-menu="+e+"]").css("display","flex"),mn.addClass("sub-menu")}),300))})).on("mouseleave",(function(){a&&clearTimeout(a)})).on("click",(function(){var t=$(this).attr("data-mode");gn===t&&mn.hasClass("sub-menu")?(mn.find(".sub-menu").hide(),mn.removeClass("sub-menu")):function(t,n){mn.find(".toolbar-item").removeClass("active"),mn.find(".toolbar-item[data-mode="+t+"]").addClass("active"),mn.find(".sub-menu").hide(),n||(mn.find(".sub-menu[data-menu="+t+"]").css("display","flex"),mn.addClass("sub-menu"));if(gn=t,yn.removeClass("bg"),un.css("background","transparent"),"draw"===t||"remove"===t){fn||function(t,n,o){var i=!1,a=!1,r=!1,s=!1,l=t.getContext("2d"),d=n.getContext("2d"),c=o.getContext("2d");ao(t,l),ao(n,d),ao(o,c),t.addEventListener("mousedown",(function(e){if(e.preventDefault(),1===e.which){if(vn)return r=!0,_n={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},void xn.editStart();if(wn)"remove"===gn?(lo(wn),ro(n),so(o),l.clearRect(0,0,t.width,t.height)):(a=!0,xn&&(xn.selected=!1,l.clearRect(0,0,t.width,t.height)),wn.selected=!0,xn=wn,wn.drawSelect(l),_n={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},xn.editStart(),ro(n));else{if(xn&&(xn.selected=!1,xn=null,ro(n),so(o),l.clearRect(0,0,t.width,t.height)),"remove"===gn)return void(s=!0);i=!0,"freeline"===Cn?Mn=new ho(l,10,Tn):"rect"===Cn?(Mn=new uo(l,12,Tn)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):"arrow"===Cn?(Mn=new mo(l,8,Tn)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):Mn=new go(l,16),this.color="#f00"}}}),0),t.addEventListener("mouseleave",(function(e){i&&(i=!1,Mn.points[1]&&(("freeline"===Mn.type||Math.abs(Mn.points[1].x-Mn.points[0].x)>100||Math.abs(Mn.points[1].y-Mn.points[0].y)>100)&&kn.push(Mn),Mn=null),ro(n),so(o),l.clearRect(0,0,t.width,t.height))})),t.addEventListener("mouseup",(function(d){i&&(i=!1,Mn.points[1]&&(("freeline"===Mn.type||Math.abs(Mn.points[1].x-Mn.points[0].x)>100||Math.abs(Mn.points[1].y-Mn.points[0].y)>100)&&kn.push(Mn),Mn=null),ro(n),so(o),l.clearRect(0,0,t.width,t.height),e({action:"draw-annotation"})),a&&(a=!1,so(o)),r&&(r=!1,so(o)),s&&(s=!1),zn=null}),0),t.addEventListener("mousemove",(function(e){if(e.preventDefault(),a&&null!==wn){var d={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)};return xn.points.forEach((function(e,t){e.x=xn.pre_points[t].x+(d.x-_n.x),e.y=xn.pre_points[t].y+(d.y-_n.y)})),l.clearRect(0,0,t.width,t.height),xn.calcRegionPoints&&xn.calcRegionPoints(),void xn.drawSelect(l)}if(r&&null!==vn&&(xn.resize({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},vn.index),l.clearRect(0,0,t.width,t.height),xn.drawSelect(l)),i){if("rect"!==Cn&&"arrow"!==Cn){var p=Mn.points,h=Mn.points.length;0!==h&&p[h-1].x===Math.floor(e.offsetX*window.devicePixelRatio)&&p[h-1].y===Math.floor(e.offsetY*window.devicePixelRatio)||Mn.points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)})}else Mn.points[1]={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},Mn.calcRegionPoints();l.clearRect(0,0,t.width,t.height),Mn.draw(l)}if(!i&&!a&&!r){var u=function(e){if(xn)for(var t=0;t<xn.edit_regions.length;t++)if(xn.edit_regions[t].isPointIn(e))return xn.edit_regions[t];return null}({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)});if(u)vn=u,t.style.cursor="pointer";else{vn=null,t.style.cursor="";var m={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},g=fo({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},c);if(!g&&"remove"===gn&&s&&zn)for(var b=0;b<10&&!(g=fo({x:Math.abs(m.x-zn.x)/10*b+m.x,y:Math.abs(m.y-zn.y)/10*b+m.y},c));b++);if(zn=m,g){if("remove"===gn){if(s)return lo(g),ro(n),so(o),void l.clearRect(0,0,t.width,t.height);$(t).addClass("do-remove")}wn=g,"draw"===gn&&(t.style.cursor="move")}else wn=null,t.style.cursor="",$(t).removeClass("do-remove")}}}),0);var p=null,h=!1;t.addEventListener("wheel",(function(e){!1===h&&(p&&(clearTimeout(p),p=null),h=!0,$(Sn).css("pointer-events","none"),$(n).css("pointer-events","none"),p=setTimeout((function(){h=!1,$(Sn).css("pointer-events","all"),$(n).css("pointer-events","all")}),250))})),t.addEventListener("scroll",(function(){xn&&(xn.selected=!1,xn=null,ro(n),so(o),l.clearRect(0,0,t.width,t.height))})),window.addEventListener("scroll",(function(e){ro(n),so(o)})),window.addEventListener("resize",(function(){ao(t,l),ao(n,d),ro(n),so(o)})),fn=!0}(Sn,En,Hn),"draw"===t?Vn(Cn):$(Sn).removeClass("freeline rect arrow remove").addClass("remove"),!0;var o="all";$(Sn).css("pointer-events",o),$(En).css("pointer-events",o)}else if("mouse"===t){!1;o="none";$(Sn).css("pointer-events",o),$(En).css("pointer-events",o),jn(bn)}}(t)})),Yn(),mn.find(".annotation-tools").on("mouseleave",(function(){i=setTimeout((function(){mn.find(".sub-menu").hide(),mn.removeClass("sub-menu")}),2e3)})).on("mouseenter",(function(){i&&clearTimeout(i)})),mn.find(".sub-menu").on("mouseenter",(function(){i&&clearTimeout(i)})).on("mouseleave",(function(){i=setTimeout((function(){mn.find(".sub-menu").hide(),mn.removeClass("sub-menu")}),2e3)})),mn.find(".bar-area").on("mouseenter",(function(){mn.find(".close-action").show()})).on("mouseleave",(function(){mn.find(".close-action").hide()})),mn.find(".close-action").on("click",(function(){e({action:"hideAnnBar"})})),mn.find(".collapse-btn").on("click",(function(){$(this).hide(),mn.find(".expand-btn").show(),mn.find(".sub-menu").hide(),mn.removeClass("sub-menu"),mn.addClass("collapsed"),Wn=!0,e({action:"collapse"})})),mn.find(".expand-btn").on("click",(function(){$(this).hide(),mn.find(".collapse-btn").show(),mn.find(".sub-menu").hide(),mn.removeClass("sub-menu"),mn.removeClass("collapsed"),Wn=!1,e({action:"expand"})})),mn.find("#time").on("mousedown",Un),yn=un.find(".mouse-block"),Sn=un.find("#draw-canvas")[0],En=un.find("#layer-canvas")[0];(Hn=document.createElement("canvas")).getContext("2d");mn.find(".sub-menu-item").on("click",(function(e){var t=$(this).attr("data-type");"remove"!==$(this).parents(".sub-menu").attr("data-menu")?"mouse"===$(this).parents(".sub-menu").attr("data-menu")?jn(t,e):Vn(t):"remove-all"===t&&(kn=[],ro(En),so(Hn),Sn.getContext("2d").clearRect(0,0,Sn.width,Sn.height))})),mn.find(".color-item").on("click",(function(){!function(e,t){mn.find(".color-item").removeClass("active"),mn.find(".color-item[data-color="+e+"]").addClass("active"),Tn=pn[e]}($(this).attr("data-color"))})),mn.find(".toolbar-action-btn").on("click",(function(){switch($(this).attr("data-action")){case"pause":e({action:"pause-recording"}),$(this).hide(),mn.find(".more-action").css("display","flex");break;case"resume":e({action:"resume-recording"}),mn.find(".more-action").hide(),mn.find(".toolbar-action-btn.pause").show();break;case"discard":break;case"stop":e({action:"stop-stream"})}})),mn.find(".action-item").on("click",(function(){switch($(this).attr("data-action")){case"pause":e({action:"pause-recording"}),$(this).hide(),mn.find(".paused").css("display","flex");break;case"resume":e({action:"resume-recording"}),mn.find(".paused").hide(),mn.find(".action-item.pause").show();break;case"discard-view":mn.addClass("discard");break;case"cancel":mn.removeClass("discard");break;case"discard":e({action:"discard-recording"});break;case"stop":Wn||e({action:"stop-stream"})}})),mn.find(".device-item").on("click",(function(){switch($(this).attr("data-action")){case"audio":e({action:"toggleAuido"});break;case"camera":e({action:"toggleCamera"}),mn.find(".device-item.nocam").addClass("loading")}})),mn.find(".device-soure").find("select").on("change",(function(){var t=$(this).attr("data-source"),n=$(this).val();"mic"===t?e({action:"changeMic",deviceId:n}):"cam"===t&&e({action:"changeCam",deviceId:n})})),$(document).on("mousemove",no).on("mouseenter",eo).on("mouseleave",to).on("mousedown",oo).on("mouseup",io),document.documentElement.appendChild(hn),(Pn.length>0||Rn.length>0)&&(Xn("mic",Pn,$n),Xn("cam",Rn,Ln),!0)}(t.premiumLevel);break;case"pause":mn&&(mn.find(".paused").css("display","flex"),mn.hasClass("paused")||mn.addClass("paused"),mn.find(".action-item.pause").hide());break;case"resume":mn&&(mn.removeClass("paused"),mn.find(".paused").hide(),mn.find(".action-item.pause").show());break;case"record-err":d(t.obj,"error",6e3);break;case"remove-toolbar":$("#aws-record-toolbar").remove(),$(document).off("mousemove",no).off("mouseenter",eo).off("mouseleave",to).off("mousedown",oo).off("mouseup",io),hn=null,un=null,mn=null,gn="mouse",bn="default",fn=!1,!1,wn=null,vn=null,xn=null,_n={x:0,y:0},yn=null,kn=[],null,Cn="freeline",Sn=null,En=null,Hn=null,Mn=null,Tn="#f00",zn=null,!1,qn=0,On=0;break;case"endSelect":Gt(),cn=null;break;case"check-videos":e({action:"page-video-status",status:x()||function(){if(/meet.google.com/.test(window.location.host))return!0;if(/teams.live.com/.test(window.location.host))return!0;if(/\.zoom\.us$/.test(window.location.host)&&/^\/wc/.test(document.location.pathname))return!0}()});break;case"devices":Pn=t.data.audios,Rn=t.data.cams,$n=t.data.defaultMic,Ln=t.data.defaultCam,Xn("mic",Pn,$n),Xn("cam",Rn,Ln);break;case"defaultDevice":$n=t.data.defaultMic,Ln=t.data.defaultCam,Dn("mic",$n),Dn("cam",Ln);break;case"updateRecordTime":In=t.data,c=t.data,In=c,mn&&mn.find("#time").text(In);break;case"updateRecordUI":var l=t.data;l&&(Nn=l.audStatus,Bn=l.camStatus,Yn());break;case"updateAnnBar":!function(e){Fn=e,mn&&(e?mn.find(".free").show():mn.find(".free").hide())}(t.data.showAnn);break;case"done_start":Qn();break;case"prepareCustom":Vt()}var c}));var rn,sn,ln,dn,cn,pn={red:"#f00",blue:"#5B94FF",green:"#47D897"},hn=null,un=null,mn=null,gn="mouse",bn="default",fn=!1,wn=null,vn=null,xn=null,_n={x:0,y:0},yn=null,kn=[],Cn="freeline",Sn=null,En=null,Hn=null,Mn=null,Tn="#f00",zn=null,Pn=[],Rn=[],$n="",Wn=!1,Ln="",In="",Fn=!1,An=!1,Nn=1,Bn=1,qn=0,On=0;function Xn(e,t,n){if(t.length&&mn){var o=mn.find("#"+e+"-soure");t.length<2?o.parent().addClass("hidde-select"):o.children().length<1&&(o.parent().removeClass("hidde-select"),t.forEach((function(e){$("<option value='"+e.deviceId+"'>"+e.label+"</option>").appendTo(o)})),n&&function(e,t){for(var n=0;n<t.length;n++)if(e===t[n].deviceId)return!0;return!1}(n,t)&&o.val(n))}}function Yn(){if(mn){var e=mn.find("#devices");2===Nn?(e.find("#audio").show(),e.find("#mute").hide()):3===Nn?(e.find("#audio").hide(),e.find("#mute").find(".svg-icon").addClass("red"),e.find("#mute").find(".svg-icon").removeClass("white"),e.find("#mute").show()):(e.find("#audio").hide(),e.find("#mute").find(".svg-icon").addClass("white"),e.find("#mute").find(".svg-icon").removeClass("red"),e.find("#mute").show()),mn.find(".device-item.nocam").removeClass("loading"),2===Bn?(e.find("#cam").show(),e.find("#noCam").hide()):3==Bn?(e.find("#cam").hide(),e.find("#noCam").show(),e.find("#noCam").find(".svg-icon").addClass("red"),e.find("#noCam").find(".svg-icon").removeClass("white")):(e.find("#cam").hide(),e.find("#noCam").show(),e.find("#noCam").find(".svg-icon").addClass("white"),e.find("#noCam").find(".svg-icon").removeClass("red"))}}function Dn(e,t){if(mn){var n=mn.find("#"+e+"-source");t&&n.val(t)}}function jn(e,t,n){mn.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),yn.removeClass("bg"),un.css("background","transparent"),bn=e,"background"===e?yn.addClass("bg"):"focus"===e&&t&&un.css("background","radial-gradient(circle at "+t.clientX+"px "+t.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)")}function Vn(e,t){mn.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),Cn=e,$(Sn).removeClass("freeline rect arrow remove").addClass(e)}function Un(e){e.preventDefault(),ln=e.pageX,dn=e.pageY,rn=void 0,sn=void 0,document.documentElement.addEventListener("mousemove",Gn,!1),document.documentElement.addEventListener("mouseup",Jn,!1)}function Gn(e){e.preventDefault(),ln>=0&&dn>=0&&(rn=parseInt(e.pageX-ln)+parseInt(qn),sn=Kn(sn=parseInt(e.pageY-dn)+parseInt(On)),rn=Zn(rn),mn.css("transform","translate("+rn+"px,"+sn+"px)"))}function Kn(e){if(isNaN(e))return 0;var t=parseInt(mn.css("bottom")),n=parseInt(mn.css("height"));return e>t?e=t:e<0-window.innerHeight+t+n&&(e=t+n-window.innerHeight),e}function Zn(e){if(isNaN(e))return 0;var t=parseInt(mn.css("width")),n=parseInt(mn.css("left"));return n+e+t>window.innerWidth-20&&t<window.innerWidth?e=window.innerWidth-20-t-n:e<=10-n&&(e=10-n),e}function Jn(e){e.preventDefault(),ln>0&&dn>0&&void 0!==rn&&void 0!==sn&&(On=Kn(sn),qn=Zn(rn),ln=-1,dn=-1,rn=void 0,sn=void 0),document.documentElement.removeEventListener("mousemove",Gn,!1),document.documentElement.removeEventListener("mouseup",Jn,!1)}function Qn(){mn&&mn.find("#prepare-view").hide()}function eo(){"mouse"===gn&&"background"===bn&&yn.addClass("bg")}function to(){yn.removeClass("bg")}function no(e){if("focus"===bn&&"mouse"===gn&&un.css("background","radial-gradient(circle at "+e.clientX+"px "+e.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)"),"background"===bn||"click"===bn){var t=e.clientX-24+"px",n=e.clientY-24+"px";yn.css("transform","translate3d("+t+","+n+",0)")}}function oo(){"click"===bn&&"mouse"===gn&&yn.addClass("mouse-down")}function io(){"click"===bn&&"mouse"===gn&&yn.removeClass("mouse-down")}function ao(e,t){var n=document.documentElement.offsetWidth,o=document.documentElement.clientHeight,i=n,a=o;e.style.width=n+"px",e.style.height=o+"px",e.width=i*window.devicePixelRatio,e.height=a*window.devicePixelRatio,t.lineCap="round"}function ro(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),kn.forEach((function(e){e.selected||e.draw(t)}))}function so(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),kn.forEach((function(e,n){var o,i,a,r,s=(i=(16711680&(o=n)).toString(16),a=(65280&o).toString(16),r=(255&o).toString(16),"#"+(1===i.length?"0":"")+i+(1===a.length?"0":"")+a+(1===r.length?"0":"")+r);e.draw(t,s)}))}function lo(e){for(var t=0;t<kn.length;t++)kn[t]===e&&kn.splice(t,1)}function co(e,t){var n=function(e){function t(){}return t.prototype=e,new t}(t.prototype);n.constructor=e,e.prototype=n}function po(e,t,n){this.penWidth=t,this.color=n,this.points=[],this.pre_points=[],this.ctx=e,this.scrollTop=document.scrollingElement.scrollTop,this.selected=!1}function ho(e,t,n){po.call(this,e,t),this.edit_regions=[],this.region_points=[],this.type="freeline",this.color=n}function uo(e,t,n){po.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=wo(4)}function mo(e,t,n){po.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=wo(2)}function go(e,t){po.call(this,e,t),this.type="eraser"}function bo(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=e.penWidth;o||(t.lineWidth=r,t.strokeStyle=a);var s=i.length;if(0!==s&&1!==s){t.beginPath(),"freeline"===e.type?t.globalCompositeOperation="source-over":(t.globalCompositeOperation="destination-out",t.lineWidth=64);var l,d,c=null,p=i[0];t.moveTo(p.x,p.y);for(var h=0;h<i.length-1;h++)l=i[h],d=i[h+1],c={x:(l.x+d.x)/2,y:(l.y+d.y)/2},t.quadraticCurveTo(p.x,p.y,c.x,c.y),p=i[h+1];c=i[i.length-1],t.quadraticCurveTo(p.x,p.y,c.x,c.y),t.stroke(),t.closePath()}}function fo(e,t,n){var o=t.getImageData(e.x,e.y,1,1).data;if(o[3]<10)return null;var i,a=(i=o)[0]<<16|i[1]<<8|i[2];return kn[a]}function wo(e){for(var t=[],n=0;n<e;n++)t.push({x:0,y:0});return t}function vo(e,t){return null!=e?Math.round((Math.max(e,20)+10)/2):8}function xo(e,t,n,o){this.shape=e,this.center=t,this.disabled=!1,this.radius=n,this.index=o}po.prototype.editStart=function(){this.pre_points=this.points.map((function(e){return{x:e.x,y:e.y}}))},po.prototype.drawSelect=function(e){this.calcRegionPoints&&this.calcRegionPoints(),e.save(),e.strokeStyle="#fff",e.shadowColor="rgba(0, 0, 0, 0.4)",e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=4,e.lineWidth=Math.floor(this.penWidth+10),this.draw(e,"#fff",!0),e.restore(),this.draw(e),this.edit_regions&&this.edit_regions.forEach((function(t){return t.draw(e)}))},co(ho,po),ho.prototype.draw=function(e,t,n){bo(this,e,t,n)},co(uo,po),uo.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=o?e.penWidth+6:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=r,t.strokeStyle=a;Math.abs(i[1].x-i[0].x),Math.abs(i[1].y-i[0].y);t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(i[1].x,i[0].y),t.lineTo(i[1].x,i[1].y),t.lineTo(i[0].x,i[1].y),t.closePath(),t.stroke()}(this,e,t,n)},uo.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[0].y},n[2]={x:t[0].x,y:t[1].y},n[3]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new xo(e,t,vo(e.penWidth,window.devicePixelRatio),n)}))},uo.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-_n.x),n[0].y=o[0].y+(e.y-_n.y);break;case 1:n[1].x=o[1].x+(e.x-_n.x),n[0].y=o[0].y+(e.y-_n.y);break;case 2:n[0].x=o[0].x+(e.x-_n.x),n[1].y=o[1].y+(e.y-_n.y);break;case 3:n[1].x=o[1].x+(e.x-_n.x),n[1].y=o[1].y+(e.y-_n.y)}this.calcRegionPoints()},co(mo,po),mo.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=function(e,t,n,o,i){function a(e,t,n,o,i){var a=[0,0],r=e*Math.cos(n)-t*Math.sin(n),s=e*Math.sin(n)+t*Math.cos(n);if(o){var l=Math.sqrt(r*r+s*s);r=r/l*i,s=s/l*i,a[0]=r,a[1]=s}return a}var r=function(e,t,n,o){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-o,2))}(e,t,n,o),s=i,l=.52*s,d=Math.atan(l/s),c=Math.sqrt(l*l+s*s),p=a(n-e,o-t,d,!0,c),h=a(n-e,o-t,-d,!0,c),u=a(n-e,o-t,d,!0,c+5),m=a(n-e,o-t,-d,!0,c+5),g=Math.floor(n-p[0]),b=Math.floor(o-p[1]),f=Math.floor(n-h[0]),w=Math.floor(o-h[1]),v=g+(f-g)/4,x=b+(w-b)/4,_=g+(f-g)/4*3,y=b+(w-b)/4*3,k=Math.floor(n-u[0]),C=Math.floor(o-u[1]),S=Math.floor(n-m[0]),E=Math.floor(o-m[1]),H=s/r,M=Math.floor(n-(n-e)*H),T=Math.floor(o-(o-t)*H);return{ax:k,ay:C,bx:S,by:E,cx:M,cy:T,dx:n,dy:o,ex:v,ey:x,fx:_,fy:y}}(i[0].x,i[0].y,i[1].x,i[1].y,64),r=n||e.color;var s=o?e.penWidth+10:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=s,t.lineJoin="round",t.strokeStyle=r,t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(a.ex,a.ey),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.fx,a.fy),t.closePath(),t.stroke(),t.fillStyle=r,t.fill(),t.beginPath(),t.moveTo(a.cx,a.cy),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.cx,a.cy),t.stroke(),t.closePath()}(this,e,t,n)},mo.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new xo(e,t,vo(e.penWidth,window.devicePixelRatio),n)}))},mo.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-_n.x),n[0].y=o[0].y+(e.y-_n.y);break;case 1:n[1].x=o[1].x+(e.x-_n.x),n[1].y=o[1].y+(e.y-_n.y)}this.calcRegionPoints()},co(go,po),go.prototype.draw=function(e){bo(this,e)},xo.prototype.isPointIn=function(e){return!this.disabled&&(t=this.center,n=e,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))<=this.getRadius());var t,n},xo.prototype.getRadius=function(){return this.radius},xo.prototype.draw=function(e){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.lineWidth=1,e.save(),e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=4,e.shadowOffsetX=0,e.shadowOffsetY=2,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius(),0,2*Math.PI,!1),e.stroke(),e.closePath(),e.fillStyle="#fff",e.fill(),e.restore();var t=this.center.x-this.getRadius()+2,n=this.center.y-this.getRadius()+2,o=e.createLinearGradient(t,n,t,n+2*(this.getRadius()-2));o.addColorStop(0,"#09f"),o.addColorStop(1,"#07f"),e.fillStyle=o,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius()-2,0,2*Math.PI,!1),e.closePath(),e.fill(),e.restore()},window.isContentScriptLoaded=!0,e({action:"check_shortcuts"}),window.addEventListener("load",(function(){e({action:"enable_selected"})}),!1);if(/(.*).awesomescreenshot.com/.test(document.location.hostname)){var _o=chrome.runtime.getManifest().version;$("<div id='aws-chrome-installed' style='display:none !important' data-version='"+_o+"'></div>").appendTo(document.body)}})()})();